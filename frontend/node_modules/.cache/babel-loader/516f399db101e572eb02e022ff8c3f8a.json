{"ast":null,"code":"import _slicedToArray from\"/Users/catherinekimyj/Desktop/profferly/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from\"react\";import{Tooltip}from\"antd\";import Icon,{DislikeOutlined,LikeOutlined,DislikeTwoTone,LikeTwoTone,LikeFilled,DislikeFilled}from\"@ant-design/icons\";import Axios from\"axios\";var LikesDislikes=function LikesDislikes(_ref){var postId=_ref.postId,userId=_ref.userId,currentUserId=_ref.currentUserId;var _useState=useState(0),_useState2=_slicedToArray(_useState,2),Likes=_useState2[0],setLikes=_useState2[1];var _useState3=useState(0),_useState4=_slicedToArray(_useState3,2),Dislikes=_useState4[0],setDislikes=_useState4[1];var _useState5=useState(null),_useState6=_slicedToArray(_useState5,2),LikeAction=_useState6[0],setLikeAction=_useState6[1];var _useState7=useState(null),_useState8=_slicedToArray(_useState7,2),DislikeAction=_useState8[0],setDislikeAction=_useState8[1];var _useState9=useState(LikeOutlined),_useState10=_slicedToArray(_useState9,2),likeIcon=_useState10[0],setLikeIcon=_useState10[1];var _useState11=useState(DislikeOutlined),_useState12=_slicedToArray(_useState11,2),dislikeIcon=_useState12[0],setDislikeIcon=_useState12[1];var obj={};if(postId){obj={postId:postId,userId:currentUserId};}useEffect(function(){Axios.post(\"/api/likes/getLikes\",obj).then(function(response){if(response.data.success){setLikes(response.data.likes.length);if(response.data.likes.map(function(like){return like.userId;}).includes(currentUserId)){setLikeIcon(LikeTwoTone);}else if(!response.data.likes.map(function(like){return like.userId;}).includes(currentUserId)&&response.data.likes.length>0){setLikeIcon(LikeFilled);}}else{alert(\"Could not get likes\");}});Axios.post(\"/api/likes/getDislikes\",obj).then(function(response){if(response.data.success){setDislikes(response.data.dislikes.length);if(response.data.dislikes.map(function(dislike){return dislike.userId;}).includes(currentUserId)){setDislikeIcon(DislikeTwoTone);}else if(!response.data.dislikes.map(function(dislike){return dislike.userId;}).includes(currentUserId)&&response.data.dislikes.length>0){setDislikeIcon(DislikeFilled);}}else{alert(\"Could not get dislikes\");}});},[]);var likeIds=[];var dislikeIds=[];Axios.post(\"/api/likes/getLikes\",obj).then(function(response){if(response.data.success){likeIds=response.data.likes.map(function(like){return like.userId;});}});Axios.post(\"/api/likes/getDislikes\",obj).then(function(response){if(response.data.success){dislikeIds=response.data.dislikes.map(function(dislike){return dislike.userId;});}});var onLike=function onLike(){if(LikeAction===null&&!likeIds.includes(currentUserId)&&!dislikeIds.includes(currentUserId)){Axios.post(\"/api/likes/upLike\",obj).then(function(response){if(response.data.success){setLikes(Likes+1);setLikeAction(\"liked\");setLikeIcon(LikeTwoTone);}else{alert(\"Already liked\");}});}else if(LikeAction===null&&!likeIds.includes(currentUserId)&&dislikeIds.includes(currentUserId)){Axios.post(\"/api/likes/upLike\",obj).then(function(response){if(response.data.success&&dislikeIds.length>=2){setLikes(Likes+1);setLikeAction(\"liked\");setLikeIcon(LikeTwoTone);setDislikeAction(null);setDislikes(Dislikes-1);setDislikeIcon(DislikeFilled);}else if(response.data.success&&dislikeIds.length===1){setLikes(Likes+1);setLikeAction(\"liked\");setLikeIcon(LikeTwoTone);setDislikeAction(null);setDislikes(Dislikes-1);setDislikeIcon(DislikeOutlined);}else{alert(\"Already liked\");}});}else{Axios.post(\"/api/likes/unLike\",obj).then(function(response){if(response.data.success&&likeIds.length===1){setLikes(Likes-1);setLikeAction(null);setLikeIcon(LikeOutlined);}else if(response.data.success&&likeIds.length>1){setLikes(Likes-1);setLikeAction(null);setLikeIcon(LikeFilled);}else{alert(\"Could not unlike\");}});}};var onDislike=function onDislike(){if(DislikeAction===null&&!dislikeIds.includes(currentUserId)&&!likeIds.includes(currentUserId)){Axios.post(\"/api/likes/upDislike\",obj).then(function(response){if(response.data.success){setDislikes(Dislikes+1);setDislikeAction(\"disliked\");setDislikeIcon(DislikeTwoTone);}else{alert(\"Could not add dislike\");}});}else if(DislikeAction===null&&!dislikeIds.includes(currentUserId)&&likeIds.includes(currentUserId)){Axios.post(\"/api/likes/upDislike\",obj).then(function(response){if(response.data.success&&likeIds.length>=2){setDislikes(Dislikes+1);setDislikeAction(\"disliked\");setDislikeIcon(DislikeTwoTone);setLikeAction(null);setLikes(Likes-1);setLikeIcon(LikeFilled);}else if(response.data.success&&likeIds.length===1){setDislikes(Dislikes+1);setDislikeAction(\"disliked\");setDislikeIcon(DislikeTwoTone);setLikeAction(null);setLikes(Likes-1);setLikeIcon(LikeOutlined);}else{alert(\"Could not add dislike\");}});}else{Axios.post(\"/api/likes/unDislike\",obj).then(function(response){if(response.data.success&&dislikeIds.length===1){setDislikes(Dislikes-1);setDislikeAction(null);setDislikeIcon(DislikeOutlined);}else if(response.data.success&&dislikeIds.length>1){setDislikes(Dislikes-1);setDislikeAction(null);setDislikeIcon(DislikeFilled);}else{alert(\"Could not decrease dislike\");}});}};return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"div\",{className:\"post-like-dislikes\"},/*#__PURE__*/React.createElement(\"span\",{key:\"post-like\",className:\"post-like\"},/*#__PURE__*/React.createElement(Tooltip,null,/*#__PURE__*/React.createElement(Icon,{component:likeIcon,onClick:onLike})),/*#__PURE__*/React.createElement(\"span\",{style:{paddingLeft:\"5px\",cursor:\"auto\"}},Likes)),/*#__PURE__*/React.createElement(\"span\",{key:\"post-dislike\",className:\"post-dislike\"},/*#__PURE__*/React.createElement(Tooltip,null,/*#__PURE__*/React.createElement(Icon,{component:dislikeIcon,onClick:onDislike})),/*#__PURE__*/React.createElement(\"span\",{style:{paddingLeft:\"5px\",cursor:\"auto\"}},Dislikes))));};export default LikesDislikes;","map":{"version":3,"sources":["/Users/catherinekimyj/Desktop/profferly/frontend/src/components/likesdislikes/likes_dislikes.js"],"names":["React","useEffect","useState","Tooltip","Icon","DislikeOutlined","LikeOutlined","DislikeTwoTone","LikeTwoTone","LikeFilled","DislikeFilled","Axios","LikesDislikes","postId","userId","currentUserId","Likes","setLikes","Dislikes","setDislikes","LikeAction","setLikeAction","DislikeAction","setDislikeAction","likeIcon","setLikeIcon","dislikeIcon","setDislikeIcon","obj","post","then","response","data","success","likes","length","map","like","includes","alert","dislikes","dislike","likeIds","dislikeIds","onLike","onDislike","paddingLeft","cursor"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { Tooltip } from \"antd\";\nimport Icon, {\n  DislikeOutlined,\n  LikeOutlined,\n  DislikeTwoTone,\n  LikeTwoTone,\n  LikeFilled,\n  DislikeFilled,\n} from \"@ant-design/icons\";\nimport Axios from \"axios\";\n\nconst LikesDislikes = ({ postId, userId, currentUserId }) => {\n  const [Likes, setLikes] = useState(0);\n  const [Dislikes, setDislikes] = useState(0);\n  const [LikeAction, setLikeAction] = useState(null);\n  const [DislikeAction, setDislikeAction] = useState(null);\n  const [likeIcon, setLikeIcon] = useState(LikeOutlined);\n  const [dislikeIcon, setDislikeIcon] = useState(DislikeOutlined);\n\n  let obj = {};\n  if (postId) {\n    obj = { postId: postId, userId: currentUserId };\n  }\n\n  useEffect(() => {\n    Axios.post(\"/api/likes/getLikes\", obj).then((response) => {\n      if (response.data.success) {\n        setLikes(response.data.likes.length);\n        if (\n          response.data.likes.map((like) => like.userId).includes(currentUserId)\n        ) {\n          setLikeIcon(LikeTwoTone);\n        } else if (\n          !response.data.likes\n            .map((like) => like.userId)\n            .includes(currentUserId) &&\n          response.data.likes.length > 0\n        ) {\n          setLikeIcon(LikeFilled);\n        }\n      } else {\n        alert(\"Could not get likes\");\n      }\n    });\n\n    Axios.post(\"/api/likes/getDislikes\", obj).then((response) => {\n      if (response.data.success) {\n        setDislikes(response.data.dislikes.length);\n        if (\n          response.data.dislikes\n            .map((dislike) => dislike.userId)\n            .includes(currentUserId)\n        ) {\n          setDislikeIcon(DislikeTwoTone);\n        } else if (\n          !response.data.dislikes\n            .map((dislike) => dislike.userId)\n            .includes(currentUserId) &&\n          response.data.dislikes.length > 0\n        ) {\n          setDislikeIcon(DislikeFilled);\n        }\n      } else {\n        alert(\"Could not get dislikes\");\n      }\n    });\n  }, []);\n\n  let likeIds = [];\n  let dislikeIds = [];\n  Axios.post(\"/api/likes/getLikes\", obj).then((response) => {\n    if (response.data.success) {\n      likeIds = response.data.likes.map((like) => like.userId);\n    }\n  });\n  Axios.post(\"/api/likes/getDislikes\", obj).then((response) => {\n    if (response.data.success) {\n      dislikeIds = response.data.dislikes.map((dislike) => dislike.userId);\n    }\n  });\n\n  const onLike = () => {\n    if (\n      LikeAction === null &&\n      !likeIds.includes(currentUserId) &&\n      !dislikeIds.includes(currentUserId)\n    ) {\n      Axios.post(\"/api/likes/upLike\", obj).then((response) => {\n        if (response.data.success) {\n          setLikes(Likes + 1);\n          setLikeAction(\"liked\");\n          setLikeIcon(LikeTwoTone);\n        } else {\n          alert(\"Already liked\");\n        }\n      });\n    } else if (\n      LikeAction === null &&\n      !likeIds.includes(currentUserId) &&\n      dislikeIds.includes(currentUserId)\n    ) {\n      Axios.post(\"/api/likes/upLike\", obj).then((response) => {\n        if (response.data.success && dislikeIds.length >= 2) {\n          setLikes(Likes + 1);\n          setLikeAction(\"liked\");\n          setLikeIcon(LikeTwoTone);\n          setDislikeAction(null);\n          setDislikes(Dislikes - 1);\n          setDislikeIcon(DislikeFilled);\n        } else if (response.data.success && dislikeIds.length === 1) {\n          setLikes(Likes + 1);\n          setLikeAction(\"liked\");\n          setLikeIcon(LikeTwoTone);\n          setDislikeAction(null);\n          setDislikes(Dislikes - 1);\n          setDislikeIcon(DislikeOutlined);\n        } else {\n          alert(\"Already liked\");\n        }\n      });\n    } else {\n      Axios.post(\"/api/likes/unLike\", obj).then((response) => {\n        if (response.data.success && likeIds.length === 1) {\n          setLikes(Likes - 1);\n          setLikeAction(null);\n          setLikeIcon(LikeOutlined);\n        } else if (response.data.success && likeIds.length > 1) {\n          setLikes(Likes - 1);\n          setLikeAction(null);\n          setLikeIcon(LikeFilled);\n        } else {\n          alert(\"Could not unlike\");\n        }\n      });\n    }\n  };\n\n  const onDislike = () => {\n    if (\n      DislikeAction === null &&\n      !dislikeIds.includes(currentUserId) &&\n      !likeIds.includes(currentUserId)\n    ) {\n      Axios.post(\"/api/likes/upDislike\", obj).then((response) => {\n        if (response.data.success) {\n          setDislikes(Dislikes + 1);\n          setDislikeAction(\"disliked\");\n          setDislikeIcon(DislikeTwoTone);\n        } else {\n          alert(\"Could not add dislike\");\n        }\n      });\n    } else if (\n      DislikeAction === null &&\n      !dislikeIds.includes(currentUserId) &&\n      likeIds.includes(currentUserId)\n    ) {\n      Axios.post(\"/api/likes/upDislike\", obj).then((response) => {\n        if (response.data.success && likeIds.length >= 2) {\n          setDislikes(Dislikes + 1);\n          setDislikeAction(\"disliked\");\n          setDislikeIcon(DislikeTwoTone);\n          setLikeAction(null);\n          setLikes(Likes - 1);\n          setLikeIcon(LikeFilled);\n        } else if (response.data.success && likeIds.length === 1) {\n          setDislikes(Dislikes + 1);\n          setDislikeAction(\"disliked\");\n          setDislikeIcon(DislikeTwoTone);\n          setLikeAction(null);\n          setLikes(Likes - 1);\n          setLikeIcon(LikeOutlined);\n        } else {\n          alert(\"Could not add dislike\");\n        }\n      });\n    } else {\n      Axios.post(\"/api/likes/unDislike\", obj).then((response) => {\n        if (response.data.success && dislikeIds.length === 1) {\n          setDislikes(Dislikes - 1);\n          setDislikeAction(null);\n          setDislikeIcon(DislikeOutlined);\n        } else if (response.data.success && dislikeIds.length > 1) {\n          setDislikes(Dislikes - 1);\n          setDislikeAction(null);\n          setDislikeIcon(DislikeFilled);\n        } else {\n          alert(\"Could not decrease dislike\");\n        }\n      });\n    }\n  };\n\n  return (\n    <React.Fragment>\n      <div className=\"post-like-dislikes\">\n        <span key=\"post-like\" className=\"post-like\">\n          <Tooltip>\n            <Icon component={likeIcon} onClick={onLike} />\n          </Tooltip>\n          <span style={{ paddingLeft: \"5px\", cursor: \"auto\" }}>{Likes}</span>\n        </span>\n        <span key=\"post-dislike\" className=\"post-dislike\">\n          <Tooltip>\n            <Icon component={dislikeIcon} onClick={onDislike} />\n          </Tooltip>\n          <span style={{ paddingLeft: \"5px\", cursor: \"auto\" }}>{Dislikes}</span>\n        </span>\n      </div>\n    </React.Fragment>\n  );\n};\n\nexport default LikesDislikes;\n"]},"metadata":{},"sourceType":"module"}