{"ast":null,"code":"import _classCallCheck from\"/Users/catherinekimyj/Desktop/profferly/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/catherinekimyj/Desktop/profferly/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _assertThisInitialized from\"/Users/catherinekimyj/Desktop/profferly/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"/Users/catherinekimyj/Desktop/profferly/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/catherinekimyj/Desktop/profferly/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React from\"react\";import PostItem from\"../posts/post_item\";import PostCompose from\"../posts/post_compose\";import\"./profile.css\";import{FontAwesomeIcon}from\"@fortawesome/react-fontawesome\";import{faArrowCircleLeft}from\"@fortawesome/free-solid-svg-icons\";import{faSpinner}from\"@fortawesome/free-solid-svg-icons\";import Join from\"../chat/join\";var Profile=/*#__PURE__*/function(_React$Component){_inherits(Profile,_React$Component);var _super=_createSuper(Profile);function Profile(props){var _this;_classCallCheck(this,Profile);_this=_super.call(this,props);_this.state={posts:[]};_this.renderAsAnotherUser=_this.renderAsAnotherUser.bind(_assertThisInitialized(_this));_this.renderCurrentUser=_this.renderCurrentUser.bind(_assertThisInitialized(_this));return _this;}_createClass(Profile,[{key:\"componentWillMount\",value:function componentWillMount(){this.props.fetchUserPosts(this.props.user);this.props.fetchUsers();this.props.fetchPhotos();}},{key:\"componentWillReceiveProps\",value:function componentWillReceiveProps(newState){this.setState({posts:newState.posts});}},{key:\"capitalize\",value:function capitalize(string){var splitStr=string.split(\" \");var capWords=splitStr.map(function(subStr){return subStr[0].toUpperCase()+subStr.slice(1);});var capped=capWords.join(\" \");return capped;}},{key:\"renderCurrentUser\",value:function renderCurrentUser(){var _this2=this;var list=Object.values(this.props.posts[1]).map(function(post,idx){return/*#__PURE__*/React.createElement(PostItem,{key:idx,post:post,users:_this2.props.users,fetchPosts:_this2.props.fetchPosts,fetchUsers:_this2.props.fetchUsers,history:_this2.props.history,currentUser:_this2.props.currentUser,removePost:_this2.props.removePost,fetchPostComments:_this2.props.fetchPostComments,composeComment:_this2.props.composeComment,fetchComment:_this2.props.fetchComment,removeComment:_this2.props.removeComment,comments:_this2.props.comments,fetchAllComments:_this2.props.fetchAllComments});});return/*#__PURE__*/React.createElement(\"div\",{className:\"current-user-main\"},/*#__PURE__*/React.createElement(\"div\",{className:\"user-profile\"},/*#__PURE__*/React.createElement(\"div\",{className:\"user-profile-box\"}),/*#__PURE__*/React.createElement(\"h2\",{className:\"user-profile-header\"},\"Hello, \",this.capitalize(this.props.currentUser.username)),/*#__PURE__*/React.createElement(PostCompose,{currentUser:this.props.currentUser,newPost:this.props.newPost,composePost:this.props.composePost,history:this.props.history}),/*#__PURE__*/React.createElement(\"ul\",{className:\"profile-list\"},list)),/*#__PURE__*/React.createElement(\"div\",{className:\"current-user-join\"},/*#__PURE__*/React.createElement(Join,null)));}},{key:\"renderAsAnotherUser\",value:function renderAsAnotherUser(){var _this3=this;if(this.props.users){var list=Object.values(this.props.posts[1]).map(function(post,idx){return/*#__PURE__*/React.createElement(PostItem,{key:idx,post:post,users:_this3.props.users,fetchPosts:_this3.props.fetchPosts,fetchUsers:_this3.props.fetchUsers,history:_this3.props.history,currentUser:_this3.props.currentUser,removePost:_this3.props.removePost,fetchPostComments:_this3.props.fetchPostComments,composeComment:_this3.props.composeComment,fetchComment:_this3.props.fetchComment,removeComment:_this3.props.removeComment,comments:_this3.props.comments,fetchAllComments:_this3.props.fetchAllComments});});return/*#__PURE__*/React.createElement(\"div\",{className:\"user-profile-content\"},/*#__PURE__*/React.createElement(\"h2\",null,\"All of\",\" \",/*#__PURE__*/React.createElement(\"span\",{className:\"user-profile-username\"},this.props.users[this.props.user]?this.props.users[this.props.user].username:null),\"'s Posts\"),/*#__PURE__*/React.createElement(\"ul\",{className:\"posts\"},list));}}},{key:\"render\",value:function render(){var _this4=this;if(!this.state.user&&this.state.posts.length===0){return/*#__PURE__*/React.createElement(\"div\",{className:\"profile-main\"},/*#__PURE__*/React.createElement(\"div\",{className:\"profile-loading\"},/*#__PURE__*/React.createElement(FontAwesomeIcon,{className:\"loading-icon\",icon:faSpinner})));}else{return/*#__PURE__*/React.createElement(\"div\",{className:\"profile-main\"},/*#__PURE__*/React.createElement(\"button\",{className:\"profile-button\",onClick:function onClick(){return _this4.props.history.push(\"/posts\");}},/*#__PURE__*/React.createElement(FontAwesomeIcon,{className:\"font-awesome-back\",icon:faArrowCircleLeft})),this.props.currentUser.id===this.props.user?this.renderCurrentUser():this.renderAsAnotherUser());}}}]);return Profile;}(React.Component);export default Profile;","map":{"version":3,"sources":["/Users/catherinekimyj/Desktop/profferly/frontend/src/components/profile/profile.js"],"names":["React","PostItem","PostCompose","FontAwesomeIcon","faArrowCircleLeft","faSpinner","Join","Profile","props","state","posts","renderAsAnotherUser","bind","renderCurrentUser","fetchUserPosts","user","fetchUsers","fetchPhotos","newState","setState","string","splitStr","split","capWords","map","subStr","toUpperCase","slice","capped","join","list","Object","values","post","idx","users","fetchPosts","history","currentUser","removePost","fetchPostComments","composeComment","fetchComment","removeComment","comments","fetchAllComments","capitalize","username","newPost","composePost","length","push","id","Component"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport PostItem from \"../posts/post_item\";\nimport PostCompose from \"../posts/post_compose\";\nimport \"./profile.css\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faArrowCircleLeft } from \"@fortawesome/free-solid-svg-icons\";\nimport { faSpinner } from \"@fortawesome/free-solid-svg-icons\";\n\nimport Join from \"../chat/join\";\n\nclass Profile extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      posts: [],\n    };\n\n    this.renderAsAnotherUser = this.renderAsAnotherUser.bind(this);\n    this.renderCurrentUser = this.renderCurrentUser.bind(this);\n  }\n\n  componentWillMount() {\n    this.props.fetchUserPosts(this.props.user);\n    this.props.fetchUsers();\n    this.props.fetchPhotos();\n  }\n\n  componentWillReceiveProps(newState) {\n    this.setState({ posts: newState.posts });\n  }\n\n  capitalize(string) {\n    let splitStr = string.split(\" \");\n    let capWords = splitStr.map((subStr) => subStr[0].toUpperCase() + subStr.slice(1));\n    let capped = capWords.join(\" \");\n    return capped;\n  }\n\n  renderCurrentUser() {\n    const list = Object.values(this.props.posts[1]).map((post, idx) => (\n      <PostItem\n        key={idx}\n        post={post}\n        users={this.props.users}\n        fetchPosts={this.props.fetchPosts}\n        fetchUsers={this.props.fetchUsers}\n        history={this.props.history}\n        currentUser={this.props.currentUser}\n        removePost={this.props.removePost}\n        fetchPostComments={this.props.fetchPostComments}\n        composeComment={this.props.composeComment}\n        fetchComment={this.props.fetchComment}\n        removeComment={this.props.removeComment}\n        comments={this.props.comments}\n        fetchAllComments={this.props.fetchAllComments}\n      />\n    ));\n\n    return (\n      <div className=\"current-user-main\">\n        <div className=\"user-profile\">\n          <div className=\"user-profile-box\" />\n          <h2 className=\"user-profile-header\">\n            Hello, {this.capitalize(this.props.currentUser.username)}\n          </h2>\n          <PostCompose\n            currentUser={this.props.currentUser}\n            newPost={this.props.newPost}\n            composePost={this.props.composePost}\n            history={this.props.history}\n          />\n          <ul className=\"profile-list\">{list}</ul>\n        </div>\n        <div className=\"current-user-join\">\n          <Join />\n        </div>\n      </div>\n    );\n  }\n\n  renderAsAnotherUser() {\n    if (this.props.users) {\n      const list = Object.values(this.props.posts[1]).map((post, idx) => (\n        <PostItem\n          key={idx}\n          post={post}\n          users={this.props.users}\n          fetchPosts={this.props.fetchPosts}\n          fetchUsers={this.props.fetchUsers}\n          history={this.props.history}\n          currentUser={this.props.currentUser}\n          removePost={this.props.removePost}\n          fetchPostComments={this.props.fetchPostComments}\n          composeComment={this.props.composeComment}\n          fetchComment={this.props.fetchComment}\n          removeComment={this.props.removeComment}\n          comments={this.props.comments}\n          fetchAllComments={this.props.fetchAllComments}\n        />\n      ));\n\n      return (\n        <div className=\"user-profile-content\">\n          <h2>\n            All of{\" \"}\n            <span className=\"user-profile-username\">\n              {this.props.users[this.props.user] ? this.props.users[this.props.user].username : null}\n            </span>\n            's Posts\n          </h2>\n          <ul className=\"posts\">{list}</ul>\n        </div>\n      );\n    }\n  }\n\n  render() {\n    if (!this.state.user && this.state.posts.length === 0) {\n      return (\n        <div className=\"profile-main\">\n          <div className=\"profile-loading\">\n            <FontAwesomeIcon className=\"loading-icon\" icon={faSpinner} />\n          </div>\n        </div>\n      );\n    } else {\n      return (\n        <div className=\"profile-main\">\n          <button\n            className=\"profile-button\"\n            onClick={() => this.props.history.push(\"/posts\")}\n          >\n            <FontAwesomeIcon\n              className=\"font-awesome-back\"\n              icon={faArrowCircleLeft}\n            />\n          </button>\n          {this.props.currentUser.id === this.props.user\n            ? this.renderCurrentUser()\n            : this.renderAsAnotherUser()}\n        </div>\n      );\n    }\n  }\n}\n\nexport default Profile;\n"]},"metadata":{},"sourceType":"module"}