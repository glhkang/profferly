{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nfunction _createSuper(Derived) {\n  var hasNativeReflectConstruct = _isNativeReflectConstruct();\n\n  return function _createSuperInternal() {\n    var Super = _getPrototypeOf(Derived),\n        result;\n\n    if (hasNativeReflectConstruct) {\n      var NewTarget = _getPrototypeOf(this).constructor;\n\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n\n    return _possibleConstructorReturn(this, result);\n  };\n}\n\nfunction _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Date.prototype.toString.call(Reflect.construct(Date, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n\nimport React from 'react';\nimport { Provider, create } from 'mini-store';\nimport omit from 'omit.js';\nimport SubPopupMenu, { getActiveKey } from './SubPopupMenu';\nimport { noop } from './util';\nimport { getMotion } from './utils/legacyUtil';\n\nvar Menu = /*#__PURE__*/function (_React$Component) {\n  _inherits(Menu, _React$Component);\n\n  var _super = _createSuper(Menu);\n\n  function Menu(props) {\n    var _this;\n\n    _classCallCheck(this, Menu);\n\n    _this = _super.call(this, props);\n    _this.inlineOpenKeys = [];\n\n    _this.onSelect = function (selectInfo) {\n      var _assertThisInitialize = _assertThisInitialized(_this),\n          props = _assertThisInitialize.props;\n\n      if (props.selectable) {\n        // root menu\n        var _this$store$getState = _this.store.getState(),\n            _selectedKeys = _this$store$getState.selectedKeys;\n\n        var selectedKey = selectInfo.key;\n\n        if (props.multiple) {\n          _selectedKeys = _selectedKeys.concat([selectedKey]);\n        } else {\n          _selectedKeys = [selectedKey];\n        }\n\n        if (!('selectedKeys' in props)) {\n          _this.store.setState({\n            selectedKeys: _selectedKeys\n          });\n        }\n\n        props.onSelect(_objectSpread(_objectSpread({}, selectInfo), {}, {\n          selectedKeys: _selectedKeys\n        }));\n      }\n    };\n\n    _this.onClick = function (e) {\n      var mode = _this.getRealMenuMode();\n\n      var _assertThisInitialize2 = _assertThisInitialized(_this),\n          store = _assertThisInitialize2.store,\n          onOpenChange = _assertThisInitialize2.props.onOpenChange;\n\n      if (mode !== 'inline' && !('openKeys' in _this.props)) {\n        // closing vertical popup submenu after click it\n        store.setState({\n          openKeys: []\n        });\n        onOpenChange([]);\n      }\n\n      _this.props.onClick(e);\n    }; // onKeyDown needs to be exposed as a instance method\n    // e.g., in rc-select, we need to navigate menu item while\n    // current active item is rc-select input box rather than the menu itself\n\n\n    _this.onKeyDown = function (e, callback) {\n      _this.innerMenu.getWrappedInstance().onKeyDown(e, callback);\n    };\n\n    _this.onOpenChange = function (event) {\n      var _assertThisInitialize3 = _assertThisInitialized(_this),\n          props = _assertThisInitialize3.props;\n\n      var openKeys = _this.store.getState().openKeys.concat();\n\n      var changed = false;\n\n      var processSingle = function processSingle(e) {\n        var oneChanged = false;\n\n        if (e.open) {\n          oneChanged = openKeys.indexOf(e.key) === -1;\n\n          if (oneChanged) {\n            openKeys.push(e.key);\n          }\n        } else {\n          var index = openKeys.indexOf(e.key);\n          oneChanged = index !== -1;\n\n          if (oneChanged) {\n            openKeys.splice(index, 1);\n          }\n        }\n\n        changed = changed || oneChanged;\n      };\n\n      if (Array.isArray(event)) {\n        // batch change call\n        event.forEach(processSingle);\n      } else {\n        processSingle(event);\n      }\n\n      if (changed) {\n        if (!('openKeys' in _this.props)) {\n          _this.store.setState({\n            openKeys: openKeys\n          });\n        }\n\n        props.onOpenChange(openKeys);\n      }\n    };\n\n    _this.onDeselect = function (selectInfo) {\n      var _assertThisInitialize4 = _assertThisInitialized(_this),\n          props = _assertThisInitialize4.props;\n\n      if (props.selectable) {\n        var _selectedKeys2 = _this.store.getState().selectedKeys.concat();\n\n        var selectedKey = selectInfo.key;\n\n        var index = _selectedKeys2.indexOf(selectedKey);\n\n        if (index !== -1) {\n          _selectedKeys2.splice(index, 1);\n        }\n\n        if (!('selectedKeys' in props)) {\n          _this.store.setState({\n            selectedKeys: _selectedKeys2\n          });\n        }\n\n        props.onDeselect(_objectSpread(_objectSpread({}, selectInfo), {}, {\n          selectedKeys: _selectedKeys2\n        }));\n      }\n    }; // Restore vertical mode when menu is collapsed responsively when mounted\n    // https://github.com/ant-design/ant-design/issues/13104\n    // TODO: not a perfect solution,\n    // looking a new way to avoid setting switchingModeFromInline in this situation\n\n\n    _this.onMouseEnter = function (e) {\n      _this.restoreModeVerticalFromInline();\n\n      var onMouseEnter = _this.props.onMouseEnter;\n\n      if (onMouseEnter) {\n        onMouseEnter(e);\n      }\n    };\n\n    _this.onTransitionEnd = function (e) {\n      // when inlineCollapsed menu width animation finished\n      // https://github.com/ant-design/ant-design/issues/12864\n      var widthCollapsed = e.propertyName === 'width' && e.target === e.currentTarget; // Fix SVGElement e.target.className.indexOf is not a function\n      // https://github.com/ant-design/ant-design/issues/15699\n\n      var className = e.target.className; // SVGAnimatedString.animVal should be identical to SVGAnimatedString.baseVal,\n      // unless during an animation.\n\n      var classNameValue = Object.prototype.toString.call(className) === '[object SVGAnimatedString]' ? className.animVal : className; // Fix for <Menu style={{ width: '100%' }} />,\n      // the width transition won't trigger when menu is collapsed\n      // https://github.com/ant-design/ant-design-pro/issues/2783\n\n      var iconScaled = e.propertyName === 'font-size' && classNameValue.indexOf('anticon') >= 0;\n\n      if (widthCollapsed || iconScaled) {\n        _this.restoreModeVerticalFromInline();\n      }\n    };\n\n    _this.setInnerMenu = function (node) {\n      _this.innerMenu = node;\n    };\n\n    _this.isRootMenu = true;\n    var selectedKeys = props.defaultSelectedKeys;\n    var openKeys = props.defaultOpenKeys;\n\n    if ('selectedKeys' in props) {\n      selectedKeys = props.selectedKeys || [];\n    }\n\n    if ('openKeys' in props) {\n      openKeys = props.openKeys || [];\n    }\n\n    _this.store = create({\n      selectedKeys: selectedKeys,\n      openKeys: openKeys,\n      activeKey: {\n        '0-menu-': getActiveKey(props, props.activeKey)\n      }\n    });\n    _this.state = {\n      switchingModeFromInline: false\n    };\n    return _this;\n  }\n\n  _createClass(Menu, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.updateMiniStore();\n      this.updateMenuDisplay();\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(prevProps) {\n      this.updateOpentKeysWhenSwitchMode(prevProps);\n      this.updateMiniStore();\n      var _this$props = this.props,\n          siderCollapsed = _this$props.siderCollapsed,\n          inlineCollapsed = _this$props.inlineCollapsed,\n          onOpenChange = _this$props.onOpenChange;\n\n      if (!prevProps.inlineCollapsed && inlineCollapsed || !prevProps.siderCollapsed && siderCollapsed) {\n        onOpenChange([]);\n      }\n\n      this.updateMenuDisplay();\n    }\n  }, {\n    key: \"updateOpentKeysWhenSwitchMode\",\n    value: function updateOpentKeysWhenSwitchMode(prevProps) {\n      var nextProps = this.props,\n          store = this.store,\n          inlineOpenKeys = this.inlineOpenKeys;\n      var prevState = store.getState();\n      var newState = {};\n\n      if (prevProps.mode === 'inline' && nextProps.mode !== 'inline') {\n        this.setState({\n          switchingModeFromInline: true\n        });\n      }\n\n      if (!('openKeys' in nextProps)) {\n        // [Legacy] Old code will return after `openKeys` changed.\n        // Not sure the reason, we should keep this logic still.\n        if (nextProps.inlineCollapsed && !prevProps.inlineCollapsed || nextProps.siderCollapsed && !prevProps.siderCollapsed) {\n          this.setState({\n            switchingModeFromInline: true\n          });\n          this.inlineOpenKeys = prevState.openKeys.concat();\n          newState.openKeys = [];\n        }\n\n        if (!nextProps.inlineCollapsed && prevProps.inlineCollapsed || !nextProps.siderCollapsed && prevProps.siderCollapsed) {\n          newState.openKeys = inlineOpenKeys;\n          this.inlineOpenKeys = [];\n        }\n      }\n\n      if (Object.keys(newState).length) {\n        store.setState(newState);\n      }\n    }\n  }, {\n    key: \"updateMenuDisplay\",\n    value: function updateMenuDisplay() {\n      var collapsedWidth = this.props.collapsedWidth,\n          store = this.store,\n          prevOpenKeys = this.prevOpenKeys; // https://github.com/ant-design/ant-design/issues/8587\n\n      var hideMenu = this.getInlineCollapsed() && (collapsedWidth === 0 || collapsedWidth === '0' || collapsedWidth === '0px');\n\n      if (hideMenu) {\n        this.prevOpenKeys = store.getState().openKeys.concat();\n        this.store.setState({\n          openKeys: []\n        });\n      } else if (prevOpenKeys) {\n        this.store.setState({\n          openKeys: prevOpenKeys\n        });\n        this.prevOpenKeys = null;\n      }\n    }\n  }, {\n    key: \"getRealMenuMode\",\n    value: function getRealMenuMode() {\n      var mode = this.props.mode;\n      var switchingModeFromInline = this.state.switchingModeFromInline;\n      var inlineCollapsed = this.getInlineCollapsed();\n\n      if (switchingModeFromInline && inlineCollapsed) {\n        return 'inline';\n      }\n\n      return inlineCollapsed ? 'vertical' : mode;\n    }\n  }, {\n    key: \"getInlineCollapsed\",\n    value: function getInlineCollapsed() {\n      var _this$props2 = this.props,\n          inlineCollapsed = _this$props2.inlineCollapsed,\n          siderCollapsed = _this$props2.siderCollapsed;\n\n      if (siderCollapsed !== undefined) {\n        return siderCollapsed;\n      }\n\n      return inlineCollapsed;\n    }\n  }, {\n    key: \"restoreModeVerticalFromInline\",\n    value: function restoreModeVerticalFromInline() {\n      var switchingModeFromInline = this.state.switchingModeFromInline;\n\n      if (switchingModeFromInline) {\n        this.setState({\n          switchingModeFromInline: false\n        });\n      }\n    }\n  }, {\n    key: \"updateMiniStore\",\n    value: function updateMiniStore() {\n      if ('selectedKeys' in this.props) {\n        this.store.setState({\n          selectedKeys: this.props.selectedKeys || []\n        });\n      }\n\n      if ('openKeys' in this.props) {\n        this.store.setState({\n          openKeys: this.props.openKeys || []\n        });\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var props = _objectSpread({}, omit(this.props, ['collapsedWidth', 'siderCollapsed', 'defaultMotions']));\n\n      var mode = this.getRealMenuMode();\n      props.className += \" \".concat(props.prefixCls, \"-root\");\n\n      if (props.direction === 'rtl') {\n        props.className += \" \".concat(props.prefixCls, \"-rtl\");\n      }\n\n      props = _objectSpread(_objectSpread({}, props), {}, {\n        mode: mode,\n        onClick: this.onClick,\n        onOpenChange: this.onOpenChange,\n        onDeselect: this.onDeselect,\n        onSelect: this.onSelect,\n        onMouseEnter: this.onMouseEnter,\n        onTransitionEnd: this.onTransitionEnd,\n        parentMenu: this,\n        motion: getMotion(this.props, this.state, mode)\n      });\n      delete props.openAnimation;\n      delete props.openTransitionName;\n      return React.createElement(Provider, {\n        store: this.store\n      }, React.createElement(SubPopupMenu, Object.assign({}, props, {\n        ref: this.setInnerMenu\n      }), this.props.children));\n    }\n  }]);\n\n  return Menu;\n}(React.Component);\n\nMenu.defaultProps = {\n  selectable: true,\n  onClick: noop,\n  onSelect: noop,\n  onOpenChange: noop,\n  onDeselect: noop,\n  defaultSelectedKeys: [],\n  defaultOpenKeys: [],\n  subMenuOpenDelay: 0.1,\n  subMenuCloseDelay: 0.1,\n  triggerSubMenuAction: 'hover',\n  prefixCls: 'rc-menu',\n  className: '',\n  mode: 'vertical',\n  style: {},\n  builtinPlacements: {},\n  overflowedIndicator: React.createElement(\"span\", null, \"\\xB7\\xB7\\xB7\")\n};\nexport default Menu;","map":{"version":3,"sources":["/Users/catherinekimyj/Desktop/profferly/frontend/node_modules/rc-menu/es/Menu.js"],"names":["_defineProperty","_classCallCheck","_createClass","_assertThisInitialized","_inherits","_possibleConstructorReturn","_getPrototypeOf","ownKeys","object","enumerableOnly","keys","Object","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","enumerable","push","apply","_objectSpread","target","i","arguments","length","source","forEach","key","getOwnPropertyDescriptors","defineProperties","defineProperty","_createSuper","Derived","hasNativeReflectConstruct","_isNativeReflectConstruct","_createSuperInternal","Super","result","NewTarget","constructor","Reflect","construct","sham","Proxy","Date","prototype","toString","call","e","React","Provider","create","omit","SubPopupMenu","getActiveKey","noop","getMotion","Menu","_React$Component","_super","props","_this","inlineOpenKeys","onSelect","selectInfo","_assertThisInitialize","selectable","_this$store$getState","store","getState","_selectedKeys","selectedKeys","selectedKey","multiple","concat","setState","onClick","mode","getRealMenuMode","_assertThisInitialize2","onOpenChange","openKeys","onKeyDown","callback","innerMenu","getWrappedInstance","event","_assertThisInitialize3","changed","processSingle","oneChanged","open","indexOf","index","splice","Array","isArray","onDeselect","_assertThisInitialize4","_selectedKeys2","onMouseEnter","restoreModeVerticalFromInline","onTransitionEnd","widthCollapsed","propertyName","currentTarget","className","classNameValue","animVal","iconScaled","setInnerMenu","node","isRootMenu","defaultSelectedKeys","defaultOpenKeys","activeKey","state","switchingModeFromInline","value","componentDidMount","updateMiniStore","updateMenuDisplay","componentDidUpdate","prevProps","updateOpentKeysWhenSwitchMode","_this$props","siderCollapsed","inlineCollapsed","nextProps","prevState","newState","collapsedWidth","prevOpenKeys","hideMenu","getInlineCollapsed","_this$props2","undefined","render","prefixCls","direction","parentMenu","motion","openAnimation","openTransitionName","createElement","assign","ref","children","Component","defaultProps","subMenuOpenDelay","subMenuCloseDelay","triggerSubMenuAction","style","builtinPlacements","overflowedIndicator"],"mappings":"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","sourcesContent":["import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nimport React from 'react';\nimport { Provider, create } from 'mini-store';\nimport omit from 'omit.js';\nimport SubPopupMenu, { getActiveKey } from './SubPopupMenu';\nimport { noop } from './util';\nimport { getMotion } from './utils/legacyUtil';\n\nvar Menu = /*#__PURE__*/function (_React$Component) {\n  _inherits(Menu, _React$Component);\n\n  var _super = _createSuper(Menu);\n\n  function Menu(props) {\n    var _this;\n\n    _classCallCheck(this, Menu);\n\n    _this = _super.call(this, props);\n    _this.inlineOpenKeys = [];\n\n    _this.onSelect = function (selectInfo) {\n      var _assertThisInitialize = _assertThisInitialized(_this),\n          props = _assertThisInitialize.props;\n\n      if (props.selectable) {\n        // root menu\n        var _this$store$getState = _this.store.getState(),\n            _selectedKeys = _this$store$getState.selectedKeys;\n\n        var selectedKey = selectInfo.key;\n\n        if (props.multiple) {\n          _selectedKeys = _selectedKeys.concat([selectedKey]);\n        } else {\n          _selectedKeys = [selectedKey];\n        }\n\n        if (!('selectedKeys' in props)) {\n          _this.store.setState({\n            selectedKeys: _selectedKeys\n          });\n        }\n\n        props.onSelect(_objectSpread(_objectSpread({}, selectInfo), {}, {\n          selectedKeys: _selectedKeys\n        }));\n      }\n    };\n\n    _this.onClick = function (e) {\n      var mode = _this.getRealMenuMode();\n\n      var _assertThisInitialize2 = _assertThisInitialized(_this),\n          store = _assertThisInitialize2.store,\n          onOpenChange = _assertThisInitialize2.props.onOpenChange;\n\n      if (mode !== 'inline' && !('openKeys' in _this.props)) {\n        // closing vertical popup submenu after click it\n        store.setState({\n          openKeys: []\n        });\n        onOpenChange([]);\n      }\n\n      _this.props.onClick(e);\n    }; // onKeyDown needs to be exposed as a instance method\n    // e.g., in rc-select, we need to navigate menu item while\n    // current active item is rc-select input box rather than the menu itself\n\n\n    _this.onKeyDown = function (e, callback) {\n      _this.innerMenu.getWrappedInstance().onKeyDown(e, callback);\n    };\n\n    _this.onOpenChange = function (event) {\n      var _assertThisInitialize3 = _assertThisInitialized(_this),\n          props = _assertThisInitialize3.props;\n\n      var openKeys = _this.store.getState().openKeys.concat();\n\n      var changed = false;\n\n      var processSingle = function processSingle(e) {\n        var oneChanged = false;\n\n        if (e.open) {\n          oneChanged = openKeys.indexOf(e.key) === -1;\n\n          if (oneChanged) {\n            openKeys.push(e.key);\n          }\n        } else {\n          var index = openKeys.indexOf(e.key);\n          oneChanged = index !== -1;\n\n          if (oneChanged) {\n            openKeys.splice(index, 1);\n          }\n        }\n\n        changed = changed || oneChanged;\n      };\n\n      if (Array.isArray(event)) {\n        // batch change call\n        event.forEach(processSingle);\n      } else {\n        processSingle(event);\n      }\n\n      if (changed) {\n        if (!('openKeys' in _this.props)) {\n          _this.store.setState({\n            openKeys: openKeys\n          });\n        }\n\n        props.onOpenChange(openKeys);\n      }\n    };\n\n    _this.onDeselect = function (selectInfo) {\n      var _assertThisInitialize4 = _assertThisInitialized(_this),\n          props = _assertThisInitialize4.props;\n\n      if (props.selectable) {\n        var _selectedKeys2 = _this.store.getState().selectedKeys.concat();\n\n        var selectedKey = selectInfo.key;\n\n        var index = _selectedKeys2.indexOf(selectedKey);\n\n        if (index !== -1) {\n          _selectedKeys2.splice(index, 1);\n        }\n\n        if (!('selectedKeys' in props)) {\n          _this.store.setState({\n            selectedKeys: _selectedKeys2\n          });\n        }\n\n        props.onDeselect(_objectSpread(_objectSpread({}, selectInfo), {}, {\n          selectedKeys: _selectedKeys2\n        }));\n      }\n    }; // Restore vertical mode when menu is collapsed responsively when mounted\n    // https://github.com/ant-design/ant-design/issues/13104\n    // TODO: not a perfect solution,\n    // looking a new way to avoid setting switchingModeFromInline in this situation\n\n\n    _this.onMouseEnter = function (e) {\n      _this.restoreModeVerticalFromInline();\n\n      var onMouseEnter = _this.props.onMouseEnter;\n\n      if (onMouseEnter) {\n        onMouseEnter(e);\n      }\n    };\n\n    _this.onTransitionEnd = function (e) {\n      // when inlineCollapsed menu width animation finished\n      // https://github.com/ant-design/ant-design/issues/12864\n      var widthCollapsed = e.propertyName === 'width' && e.target === e.currentTarget; // Fix SVGElement e.target.className.indexOf is not a function\n      // https://github.com/ant-design/ant-design/issues/15699\n\n      var className = e.target.className; // SVGAnimatedString.animVal should be identical to SVGAnimatedString.baseVal,\n      // unless during an animation.\n\n      var classNameValue = Object.prototype.toString.call(className) === '[object SVGAnimatedString]' ? className.animVal : className; // Fix for <Menu style={{ width: '100%' }} />,\n      // the width transition won't trigger when menu is collapsed\n      // https://github.com/ant-design/ant-design-pro/issues/2783\n\n      var iconScaled = e.propertyName === 'font-size' && classNameValue.indexOf('anticon') >= 0;\n\n      if (widthCollapsed || iconScaled) {\n        _this.restoreModeVerticalFromInline();\n      }\n    };\n\n    _this.setInnerMenu = function (node) {\n      _this.innerMenu = node;\n    };\n\n    _this.isRootMenu = true;\n    var selectedKeys = props.defaultSelectedKeys;\n    var openKeys = props.defaultOpenKeys;\n\n    if ('selectedKeys' in props) {\n      selectedKeys = props.selectedKeys || [];\n    }\n\n    if ('openKeys' in props) {\n      openKeys = props.openKeys || [];\n    }\n\n    _this.store = create({\n      selectedKeys: selectedKeys,\n      openKeys: openKeys,\n      activeKey: {\n        '0-menu-': getActiveKey(props, props.activeKey)\n      }\n    });\n    _this.state = {\n      switchingModeFromInline: false\n    };\n    return _this;\n  }\n\n  _createClass(Menu, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.updateMiniStore();\n      this.updateMenuDisplay();\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(prevProps) {\n      this.updateOpentKeysWhenSwitchMode(prevProps);\n      this.updateMiniStore();\n      var _this$props = this.props,\n          siderCollapsed = _this$props.siderCollapsed,\n          inlineCollapsed = _this$props.inlineCollapsed,\n          onOpenChange = _this$props.onOpenChange;\n\n      if (!prevProps.inlineCollapsed && inlineCollapsed || !prevProps.siderCollapsed && siderCollapsed) {\n        onOpenChange([]);\n      }\n\n      this.updateMenuDisplay();\n    }\n  }, {\n    key: \"updateOpentKeysWhenSwitchMode\",\n    value: function updateOpentKeysWhenSwitchMode(prevProps) {\n      var nextProps = this.props,\n          store = this.store,\n          inlineOpenKeys = this.inlineOpenKeys;\n      var prevState = store.getState();\n      var newState = {};\n\n      if (prevProps.mode === 'inline' && nextProps.mode !== 'inline') {\n        this.setState({\n          switchingModeFromInline: true\n        });\n      }\n\n      if (!('openKeys' in nextProps)) {\n        // [Legacy] Old code will return after `openKeys` changed.\n        // Not sure the reason, we should keep this logic still.\n        if (nextProps.inlineCollapsed && !prevProps.inlineCollapsed || nextProps.siderCollapsed && !prevProps.siderCollapsed) {\n          this.setState({\n            switchingModeFromInline: true\n          });\n          this.inlineOpenKeys = prevState.openKeys.concat();\n          newState.openKeys = [];\n        }\n\n        if (!nextProps.inlineCollapsed && prevProps.inlineCollapsed || !nextProps.siderCollapsed && prevProps.siderCollapsed) {\n          newState.openKeys = inlineOpenKeys;\n          this.inlineOpenKeys = [];\n        }\n      }\n\n      if (Object.keys(newState).length) {\n        store.setState(newState);\n      }\n    }\n  }, {\n    key: \"updateMenuDisplay\",\n    value: function updateMenuDisplay() {\n      var collapsedWidth = this.props.collapsedWidth,\n          store = this.store,\n          prevOpenKeys = this.prevOpenKeys; // https://github.com/ant-design/ant-design/issues/8587\n\n      var hideMenu = this.getInlineCollapsed() && (collapsedWidth === 0 || collapsedWidth === '0' || collapsedWidth === '0px');\n\n      if (hideMenu) {\n        this.prevOpenKeys = store.getState().openKeys.concat();\n        this.store.setState({\n          openKeys: []\n        });\n      } else if (prevOpenKeys) {\n        this.store.setState({\n          openKeys: prevOpenKeys\n        });\n        this.prevOpenKeys = null;\n      }\n    }\n  }, {\n    key: \"getRealMenuMode\",\n    value: function getRealMenuMode() {\n      var mode = this.props.mode;\n      var switchingModeFromInline = this.state.switchingModeFromInline;\n      var inlineCollapsed = this.getInlineCollapsed();\n\n      if (switchingModeFromInline && inlineCollapsed) {\n        return 'inline';\n      }\n\n      return inlineCollapsed ? 'vertical' : mode;\n    }\n  }, {\n    key: \"getInlineCollapsed\",\n    value: function getInlineCollapsed() {\n      var _this$props2 = this.props,\n          inlineCollapsed = _this$props2.inlineCollapsed,\n          siderCollapsed = _this$props2.siderCollapsed;\n\n      if (siderCollapsed !== undefined) {\n        return siderCollapsed;\n      }\n\n      return inlineCollapsed;\n    }\n  }, {\n    key: \"restoreModeVerticalFromInline\",\n    value: function restoreModeVerticalFromInline() {\n      var switchingModeFromInline = this.state.switchingModeFromInline;\n\n      if (switchingModeFromInline) {\n        this.setState({\n          switchingModeFromInline: false\n        });\n      }\n    }\n  }, {\n    key: \"updateMiniStore\",\n    value: function updateMiniStore() {\n      if ('selectedKeys' in this.props) {\n        this.store.setState({\n          selectedKeys: this.props.selectedKeys || []\n        });\n      }\n\n      if ('openKeys' in this.props) {\n        this.store.setState({\n          openKeys: this.props.openKeys || []\n        });\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var props = _objectSpread({}, omit(this.props, ['collapsedWidth', 'siderCollapsed', 'defaultMotions']));\n\n      var mode = this.getRealMenuMode();\n      props.className += \" \".concat(props.prefixCls, \"-root\");\n\n      if (props.direction === 'rtl') {\n        props.className += \" \".concat(props.prefixCls, \"-rtl\");\n      }\n\n      props = _objectSpread(_objectSpread({}, props), {}, {\n        mode: mode,\n        onClick: this.onClick,\n        onOpenChange: this.onOpenChange,\n        onDeselect: this.onDeselect,\n        onSelect: this.onSelect,\n        onMouseEnter: this.onMouseEnter,\n        onTransitionEnd: this.onTransitionEnd,\n        parentMenu: this,\n        motion: getMotion(this.props, this.state, mode)\n      });\n      delete props.openAnimation;\n      delete props.openTransitionName;\n      return React.createElement(Provider, {\n        store: this.store\n      }, React.createElement(SubPopupMenu, Object.assign({}, props, {\n        ref: this.setInnerMenu\n      }), this.props.children));\n    }\n  }]);\n\n  return Menu;\n}(React.Component);\n\nMenu.defaultProps = {\n  selectable: true,\n  onClick: noop,\n  onSelect: noop,\n  onOpenChange: noop,\n  onDeselect: noop,\n  defaultSelectedKeys: [],\n  defaultOpenKeys: [],\n  subMenuOpenDelay: 0.1,\n  subMenuCloseDelay: 0.1,\n  triggerSubMenuAction: 'hover',\n  prefixCls: 'rc-menu',\n  className: '',\n  mode: 'vertical',\n  style: {},\n  builtinPlacements: {},\n  overflowedIndicator: React.createElement(\"span\", null, \"\\xB7\\xB7\\xB7\")\n};\nexport default Menu;"]},"metadata":{},"sourceType":"module"}