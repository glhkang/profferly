{"ast":null,"code":"import _toConsumableArray from\"/Users/catherinekimyj/Desktop/profferly/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _objectSpread from\"/Users/catherinekimyj/Desktop/profferly/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import{RECEIVE_CURRENT_USER,RECEIVE_USER_LOGOUT,RECEIVE_USER_SIGN_IN,RECEIVE_USER_ROOMS_ADD}from\"../actions/session_actions\";var initialState={isAuthenticated:false,user:{}};export default function(){var state=arguments.length>0&&arguments[0]!==undefined?arguments[0]:initialState;var action=arguments.length>1?arguments[1]:undefined;switch(action.type){case RECEIVE_USER_ROOMS_ADD:{console.log(\"SESSION STATE\",state,action);return _objectSpread(_objectSpread({},state),{},{user:_objectSpread(_objectSpread({},state.user),{},{rooms:[].concat(_toConsumableArray(state.user.rooms.filter(function(o){return o!==action.room;})),[action.room])})});}case RECEIVE_CURRENT_USER:return _objectSpread(_objectSpread({},state),{},{isAuthenticated:!!action.currentUser,user:action.currentUser});case RECEIVE_USER_LOGOUT:return{isAuthenticated:false,user:undefined};case RECEIVE_USER_SIGN_IN:return _objectSpread(_objectSpread({},state),{},{isAuthenticated:!!action.currentUser,isSignedIn:true});default:return state;}}","map":{"version":3,"sources":["/Users/catherinekimyj/Desktop/profferly/frontend/src/reducers/session_api_reducer.js"],"names":["RECEIVE_CURRENT_USER","RECEIVE_USER_LOGOUT","RECEIVE_USER_SIGN_IN","RECEIVE_USER_ROOMS_ADD","initialState","isAuthenticated","user","state","action","type","console","log","rooms","filter","o","room","currentUser","undefined","isSignedIn"],"mappings":"qVAAA,OACEA,oBADF,CAEEC,mBAFF,CAGEC,oBAHF,CAIEC,sBAJF,KAKO,4BALP,CAOA,GAAMC,CAAAA,YAAY,CAAG,CACnBC,eAAe,CAAE,KADE,CAEnBC,IAAI,CAAE,EAFa,CAArB,CAKA,cAAe,WAAwC,IAA9BC,CAAAA,KAA8B,2DAAtBH,YAAsB,IAARI,CAAAA,MAAQ,2CACrD,OAAQA,MAAM,CAACC,IAAf,EACE,IAAKN,CAAAA,sBAAL,CAA6B,CAC3BO,OAAO,CAACC,GAAR,CAAY,eAAZ,CAA6BJ,KAA7B,CAAoCC,MAApC,EAEA,sCACKD,KADL,MAEED,IAAI,gCACCC,KAAK,CAACD,IADP,MAEFM,KAAK,8BACAL,KAAK,CAACD,IAAN,CAAWM,KAAX,CAAiBC,MAAjB,CAAwB,SAACC,CAAD,QAAOA,CAAAA,CAAC,GAAKN,MAAM,CAACO,IAApB,EAAxB,CADA,GAEHP,MAAM,CAACO,IAFJ,EAFH,EAFN,GAUD,CACD,IAAKf,CAAAA,oBAAL,CACE,sCACKO,KADL,MAEEF,eAAe,CAAE,CAAC,CAACG,MAAM,CAACQ,WAF5B,CAGEV,IAAI,CAAEE,MAAM,CAACQ,WAHf,GAKF,IAAKf,CAAAA,mBAAL,CACE,MAAO,CACLI,eAAe,CAAE,KADZ,CAELC,IAAI,CAAEW,SAFD,CAAP,CAIF,IAAKf,CAAAA,oBAAL,CACE,sCACKK,KADL,MAEEF,eAAe,CAAE,CAAC,CAACG,MAAM,CAACQ,WAF5B,CAGEE,UAAU,CAAE,IAHd,GAKF,QACE,MAAOX,CAAAA,KAAP,CAjCJ,CAmCD","sourcesContent":["import {\n  RECEIVE_CURRENT_USER,\n  RECEIVE_USER_LOGOUT,\n  RECEIVE_USER_SIGN_IN,\n  RECEIVE_USER_ROOMS_ADD,\n} from \"../actions/session_actions\";\n\nconst initialState = {\n  isAuthenticated: false,\n  user: {},\n};\n\nexport default function (state = initialState, action) {\n  switch (action.type) {\n    case RECEIVE_USER_ROOMS_ADD: {\n      console.log(\"SESSION STATE\", state, action);\n\n      return {\n        ...state,\n        user: {\n          ...state.user,\n          rooms: [\n            ...state.user.rooms.filter((o) => o !== action.room),\n            action.room,\n          ],\n        },\n      };\n    }\n    case RECEIVE_CURRENT_USER:\n      return {\n        ...state,\n        isAuthenticated: !!action.currentUser,\n        user: action.currentUser,\n      };\n    case RECEIVE_USER_LOGOUT:\n      return {\n        isAuthenticated: false,\n        user: undefined,\n      };\n    case RECEIVE_USER_SIGN_IN:\n      return {\n        ...state,\n        isAuthenticated: !!action.currentUser,\n        isSignedIn: true,\n      };\n    default:\n      return state;\n  }\n}\n"]},"metadata":{},"sourceType":"module"}