{"ast":null,"code":"import _defineProperty from\"/Users/catherinekimyj/Desktop/profferly/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _classCallCheck from\"/Users/catherinekimyj/Desktop/profferly/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/catherinekimyj/Desktop/profferly/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _assertThisInitialized from\"/Users/catherinekimyj/Desktop/profferly/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"/Users/catherinekimyj/Desktop/profferly/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/catherinekimyj/Desktop/profferly/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React from\"react\";import{withRouter,Link}from\"react-router-dom\";import\"./session_form.css\";var LoginForm=/*#__PURE__*/function(_React$Component){_inherits(LoginForm,_React$Component);var _super=_createSuper(LoginForm);function LoginForm(props){var _this;_classCallCheck(this,LoginForm);_this=_super.call(this,props);_this.state={email:\"\",password:\"\",errors:{}};_this.handleSubmit=_this.handleSubmit.bind(_assertThisInitialized(_this));_this.renderErrors=_this.renderErrors.bind(_assertThisInitialized(_this));_this.demoUserLogin=_this.demoUserLogin.bind(_assertThisInitialized(_this));return _this;}_createClass(LoginForm,[{key:\"componentWillReceiveProps\",value:function componentWillReceiveProps(nextProps){if(nextProps.currentUser===true){this.props.history.push(\"/posts\");}this.setState({errors:nextProps.errors});}},{key:\"update\",value:function update(field){var _this2=this;return function(e){return _this2.setState(_defineProperty({},field,e.currentTarget.value));};}},{key:\"handleSubmit\",value:function handleSubmit(e){e.preventDefault();var user={email:this.state.email,password:this.state.password};this.props.login(user);}},{key:\"renderErrors\",value:function renderErrors(){var _this3=this;return/*#__PURE__*/React.createElement(\"ul\",null,Object.keys(this.state.errors).map(function(error,i){return/*#__PURE__*/React.createElement(\"li\",{key:\"error-\".concat(i),className:\"session-errors\"},_this3.state.errors[error]);}));}},{key:\"demoUserLogin\",value:function demoUserLogin(e){e.preventDefault();var demoUser={email:\"demouser@profferly.com\",password:\"demouser\"};this.props.login(demoUser);}},{key:\"render\",value:function render(){return/*#__PURE__*/React.createElement(\"div\",{className:\"session-form-main\"},/*#__PURE__*/React.createElement(\"div\",{className:\"session-form-container\"},/*#__PURE__*/React.createElement(\"form\",{onSubmit:this.handleSubmit},/*#__PURE__*/React.createElement(\"div\",{className:\"session-form\"},/*#__PURE__*/React.createElement(\"div\",{className:\"login-signup-header\"},/*#__PURE__*/React.createElement(\"img\",{src:\"/assets/images/black_logo_bold.png\",alt:\"Profferly Logo\"}),/*#__PURE__*/React.createElement(\"h3\",null,\"Welcome Back to Profferly!\")),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"input\",{type:\"text\",className:\"session-form-field\",value:this.state.email,onChange:this.update(\"email\"),placeholder:\"Email\"}),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"input\",{type:\"password\",className:\"session-form-field\",value:this.state.password,onChange:this.update(\"password\"),placeholder:\"Password\"}),/*#__PURE__*/React.createElement(\"input\",{className:\"session-button\",type:\"submit\",value:\"Submit\"}),/*#__PURE__*/React.createElement(\"input\",{className:\"demo-button\",type:\"submit\",value:\"Demo User\",onClick:this.demoUserLogin}),/*#__PURE__*/React.createElement(\"div\",{className:\"session-form-bottom\"},/*#__PURE__*/React.createElement(\"span\",{className:\"bottom-session-text\"},\"Don't have an account?\\xA0\",\" \",/*#__PURE__*/React.createElement(Link,{to:\"/signup\",className:\"bottom-session-link\"},\"Click here!\"))),/*#__PURE__*/React.createElement(\"div\",{className:\"session-errors\"},this.renderErrors())))));}}]);return LoginForm;}(React.Component);export default withRouter(LoginForm);","map":{"version":3,"sources":["/Users/catherinekimyj/Desktop/profferly/frontend/src/components/session/login_form.js"],"names":["React","withRouter","Link","LoginForm","props","state","email","password","errors","handleSubmit","bind","renderErrors","demoUserLogin","nextProps","currentUser","history","push","setState","field","e","currentTarget","value","preventDefault","user","login","Object","keys","map","error","i","demoUser","update","Component"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport { withRouter, Link } from \"react-router-dom\";\nimport \"./session_form.css\";\n\nclass LoginForm extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      email: \"\",\n      password: \"\",\n      errors: {},\n    };\n\n    this.handleSubmit = this.handleSubmit.bind(this);\n    this.renderErrors = this.renderErrors.bind(this);\n    this.demoUserLogin = this.demoUserLogin.bind(this);\n  }\n\n  componentWillReceiveProps(nextProps) {\n    if (nextProps.currentUser === true) {\n      this.props.history.push(\"/posts\");\n    }\n\n    this.setState({ errors: nextProps.errors });\n  }\n\n  update(field) {\n    return (e) =>\n      this.setState({\n        [field]: e.currentTarget.value,\n      });\n  }\n\n  handleSubmit(e) {\n    e.preventDefault();\n    let user = {\n      email: this.state.email,\n      password: this.state.password,\n    };\n    this.props.login(user);\n  }\n\n  renderErrors() {\n    return (\n      <ul>\n        {Object.keys(this.state.errors).map((error, i) => (\n          <li key={`error-${i}`} className=\"session-errors\">\n            {this.state.errors[error]}\n          </li>\n        ))}\n      </ul>\n    );\n  }\n\n  demoUserLogin(e) {\n    e.preventDefault();\n    const demoUser = { email: \"demouser@profferly.com\", password: \"demouser\" };\n    this.props.login(demoUser);\n  }\n\n  render() {\n    return (\n      <div className=\"session-form-main\">\n        <div className=\"session-form-container\">\n          <form onSubmit={this.handleSubmit}>\n            <div className=\"session-form\">\n              <div className=\"login-signup-header\">\n                <img\n                  src=\"/assets/images/black_logo_bold.png\"\n                  alt=\"Profferly Logo\"\n                />\n                <h3>Welcome Back to Profferly!</h3>\n              </div>\n              <br />\n              <input\n                type=\"text\"\n                className=\"session-form-field\"\n                value={this.state.email}\n                onChange={this.update(\"email\")}\n                placeholder=\"Email\"\n              />\n\n              <br />\n              <input\n                type=\"password\"\n                className=\"session-form-field\"\n                value={this.state.password}\n                onChange={this.update(\"password\")}\n                placeholder=\"Password\"\n              />\n\n              <input className=\"session-button\" type=\"submit\" value=\"Submit\" />\n              <input\n                className=\"demo-button\"\n                type=\"submit\"\n                value=\"Demo User\"\n                onClick={this.demoUserLogin}\n              />\n\n              <div className=\"session-form-bottom\">\n                <span className=\"bottom-session-text\">\n                  Don't have an account?&nbsp;{\" \"}\n                  <Link to=\"/signup\" className=\"bottom-session-link\">\n                    Click here!\n                  </Link>\n                </span>\n              </div>\n\n              <div className=\"session-errors\">{this.renderErrors()}</div>\n            </div>\n          </form>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default withRouter(LoginForm);\n"]},"metadata":{},"sourceType":"module"}