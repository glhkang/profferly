{"ast":null,"code":"import _defineProperty from\"/Users/catherinekimyj/Desktop/profferly/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _classCallCheck from\"/Users/catherinekimyj/Desktop/profferly/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/catherinekimyj/Desktop/profferly/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _assertThisInitialized from\"/Users/catherinekimyj/Desktop/profferly/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"/Users/catherinekimyj/Desktop/profferly/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/catherinekimyj/Desktop/profferly/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React from\"react\";import{withRouter,Link}from\"react-router-dom\";import\"./session_form.css\";var SignupForm=/*#__PURE__*/function(_React$Component){_inherits(SignupForm,_React$Component);var _super=_createSuper(SignupForm);function SignupForm(props){var _this;_classCallCheck(this,SignupForm);_this=_super.call(this,props);_this.state={email:\"\",username:\"\",password:\"\",errors:{}};_this.handleSubmit=_this.handleSubmit.bind(_assertThisInitialized(_this));_this.clearedErrors=false;_this.demoUserLogin=_this.demoUserLogin.bind(_assertThisInitialized(_this));return _this;}_createClass(SignupForm,[{key:\"componentWillReceiveProps\",value:function componentWillReceiveProps(nextProps){if(nextProps.signedIn===true){this.props.history.push(\"/posts\");}this.setState({errors:nextProps.errors});}},{key:\"update\",value:function update(field){var _this2=this;return function(e){return _this2.setState(_defineProperty({},field,e.currentTarget.value));};}},{key:\"handleSubmit\",value:function handleSubmit(e){e.preventDefault();var user={email:this.state.email,username:this.state.username,password:this.state.password};this.props.signup(user,this.props.history);}},{key:\"demoUserLogin\",value:function demoUserLogin(e){e.preventDefault();var demoUser={email:\"demouser@profferly.com\",password:\"demouser\"};this.props.login(demoUser);}},{key:\"renderErrors\",value:function renderErrors(){var _this3=this;return/*#__PURE__*/React.createElement(\"ul\",null,Object.keys(this.state.errors).map(function(error,i){return/*#__PURE__*/React.createElement(\"li\",{key:\"error-\".concat(i),className:\"session-errors\"},_this3.state.errors[error]);}));}},{key:\"render\",value:function render(){return/*#__PURE__*/React.createElement(\"div\",{className:\"session-form-main\"},/*#__PURE__*/React.createElement(\"div\",{className:\"session-form-container\"},/*#__PURE__*/React.createElement(\"form\",{onSubmit:this.handleSubmit},/*#__PURE__*/React.createElement(\"div\",{className:\"session-form\"},/*#__PURE__*/React.createElement(\"div\",{className:\"login-signup-header\"},/*#__PURE__*/React.createElement(\"img\",{src:\"/assets/images/black_logo_bold.png\",alt:\"Profferly Logo\"}),/*#__PURE__*/React.createElement(\"h3\",null,\"Sign Up for Profferly!\")),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"input\",{type:\"email\",className:\"session-form-field\",value:this.state.email,onChange:this.update(\"email\"),placeholder:\"Email\"}),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"input\",{type:\"text\",className:\"session-form-field\",value:this.state.username,onChange:this.update(\"username\"),placeholder:\"Username\"}),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"input\",{type:\"password\",className:\"session-form-field\",value:this.state.password,onChange:this.update(\"password\"),placeholder:\"Password\"}),/*#__PURE__*/React.createElement(\"input\",{className:\"session-button\",type:\"submit\",value:\"Submit\"}),/*#__PURE__*/React.createElement(\"input\",{className:\"demo-button\",type:\"submit\",value:\"Demo User\",onClick:this.demoUserLogin}),/*#__PURE__*/React.createElement(\"div\",{className:\"session-form-bottom\"},/*#__PURE__*/React.createElement(\"span\",{className:\"bottom-session-text\"},\"Already have an account?\\xA0\",\" \",/*#__PURE__*/React.createElement(Link,{to:\"/login\",className:\"bottom-session-link\"},\"Click here!\"))),/*#__PURE__*/React.createElement(\"div\",{className:\"session-errors\"},this.renderErrors())))));}}]);return SignupForm;}(React.Component);export default withRouter(SignupForm);","map":{"version":3,"sources":["/Users/catherinekimyj/Desktop/profferly/frontend/src/components/session/signup_form.js"],"names":["React","withRouter","Link","SignupForm","props","state","email","username","password","errors","handleSubmit","bind","clearedErrors","demoUserLogin","nextProps","signedIn","history","push","setState","field","e","currentTarget","value","preventDefault","user","signup","demoUser","login","Object","keys","map","error","i","update","renderErrors","Component"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport { withRouter, Link } from \"react-router-dom\";\nimport \"./session_form.css\";\n\nclass SignupForm extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      email: \"\",\n      username: \"\",\n      password: \"\",\n      errors: {},\n    };\n\n    this.handleSubmit = this.handleSubmit.bind(this);\n    this.clearedErrors = false;\n    this.demoUserLogin = this.demoUserLogin.bind(this);\n  }\n\n  componentWillReceiveProps(nextProps) {\n    if (nextProps.signedIn === true) {\n      this.props.history.push(\"/posts\");\n    }\n\n    this.setState({ errors: nextProps.errors });\n  }\n\n  update(field) {\n    return (e) =>\n      this.setState({\n        [field]: e.currentTarget.value,\n      });\n  }\n\n  handleSubmit(e) {\n    e.preventDefault();\n    let user = {\n      email: this.state.email,\n      username: this.state.username,\n      password: this.state.password,\n    };\n\n    this.props.signup(user, this.props.history);\n  }\n\n  demoUserLogin(e) {\n    e.preventDefault();\n    const demoUser = { email: \"demouser@profferly.com\", password: \"demouser\" };\n    this.props.login(demoUser)\n  };\n\n\n  renderErrors() {\n    return (\n      <ul>\n        {Object.keys(this.state.errors).map((error, i) => (\n          <li key={`error-${i}`} className=\"session-errors\">\n            {this.state.errors[error]}\n          </li>\n        ))}\n      </ul>\n    );\n  }\n\n  render() {\n    return (\n      <div className=\"session-form-main\">\n        <div className=\"session-form-container\">\n          <form onSubmit={this.handleSubmit}>\n            <div className=\"session-form\">\n              <div className=\"login-signup-header\">\n                <img\n                  src=\"/assets/images/black_logo_bold.png\"\n                  alt=\"Profferly Logo\"\n                />\n                <h3>Sign Up for Profferly!</h3>\n              </div>\n\n              <br />\n              <input\n                type=\"email\"\n                className=\"session-form-field\"\n                value={this.state.email}\n                onChange={this.update(\"email\")}\n                placeholder=\"Email\"\n              />\n\n              <br />\n              <input\n                type=\"text\"\n                className=\"session-form-field\"\n                value={this.state.username}\n                onChange={this.update(\"username\")}\n                placeholder=\"Username\"\n              />\n\n              <br />\n              <input\n                type=\"password\"\n                className=\"session-form-field\"\n                value={this.state.password}\n                onChange={this.update(\"password\")}\n                placeholder=\"Password\"\n              />\n\n              <input className=\"session-button\" type=\"submit\" value=\"Submit\" />\n              <input\n                className=\"demo-button\"\n                type=\"submit\"\n                value=\"Demo User\"\n                onClick={this.demoUserLogin}\n              />\n\n              <div className=\"session-form-bottom\">\n                <span className=\"bottom-session-text\">\n                  Already have an account?&nbsp;{\" \"}\n                  <Link to=\"/login\" className=\"bottom-session-link\">\n                    Click here!\n                  </Link>\n                </span>\n              </div>\n\n              <div className=\"session-errors\">{this.renderErrors()}</div>\n            </div>\n          </form>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default withRouter(SignupForm);\n"]},"metadata":{},"sourceType":"module"}