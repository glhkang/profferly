{"ast":null,"code":"var _jsxFileName = \"/Users/catherinekimyj/Desktop/profferly/frontend/src/components/posts/post_item.js\";\nimport React from 'react';\nimport Moment from \"react-moment\";\nimport './post.css';\nimport CommentsList from '../comments/comments_list';\nimport LikesDislikes from '../likesdislikes/likes_dislikes';\n\nclass PostItem extends React.Component {\n  constructor(props) {\n    super(props);\n    this.handleClick = this.handleClick.bind(this);\n    this.handleButton = this.handleButton.bind(this);\n  }\n\n  handleClick() {\n    this.props.history.push(`/users/${this.props.post.user}`);\n  }\n\n  handleButton(e) {\n    e.preventDefault();\n    this.props.removePost(this.props.post._id);\n    this.props.history.go();\n  }\n\n  render() {\n    // debugger\n    const post = this.props.post;\n    const user = this.props.users[this.props.post.user]; //  const date = post.date; \n    //  let options = { weekday: 'long', year: 'numeric', month: 'long', day: 'numeric' };\n    //  let localtime = post.date.toLocaleString(\"en-US\", options);\n    ////debugger\n\n    const dateStr = post.date.toString();\n\n    if (post && user) {\n      return /*#__PURE__*/React.createElement(\"li\", {\n        className: \"post-item-li\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 38,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"post-item\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 39,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 40,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(\"img\", {\n        className: \"post-item-image\",\n        src: post.file,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 40,\n          columnNumber: 30\n        }\n      })), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"post-item-text\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 41,\n          columnNumber: 25\n        }\n      }, post.text), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"post-item-footer\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 42,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"post-item-posted\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 44,\n          columnNumber: 29\n        }\n      }, \"Posted by \", /*#__PURE__*/React.createElement(\"span\", {\n        className: \"post-item-username\",\n        onClick: this.handleClick,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 45,\n          columnNumber: 43\n        }\n      }, user.username)), /*#__PURE__*/React.createElement(Moment, {\n        format: \"MMM DD, YYYY h:mmA\",\n        className: \"post-date\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 47,\n          columnNumber: 29\n        }\n      }, dateStr), /*#__PURE__*/React.createElement(\"br\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 48,\n          columnNumber: 29\n        }\n      }), /*#__PURE__*/React.createElement(LikesDislikes, {\n        postId: post._id,\n        userId: user._id,\n        currentUserId: this.props.currentUser.id,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 49,\n          columnNumber: 29\n        }\n      }), this.props.currentUser.id === user._id ? /*#__PURE__*/React.createElement(\"button\", {\n        className: \"post-item-footer-button\",\n        onClick: this.handleButton,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 33\n        }\n      }, \"Delete\") : /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 123\n        }\n      })), /*#__PURE__*/React.createElement(CommentsList, {\n        currentPost: this.props.post,\n        comments: this.props.comments,\n        fetchPostComments: this.props.fetchPostComments,\n        composeComment: this.props.composeComment,\n        fetchComment: this.props.fetchComment,\n        removeComment: this.props.removeComment,\n        isLoggedIn: this.props.isLoggedIn,\n        currentUser: this.props.currentUser,\n        fetchAllComments: this.props.fetchAllComments,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 25\n        }\n      })));\n    } else {\n      // ////debugger\n      return null;\n    }\n  }\n\n}\n\nexport default PostItem;","map":{"version":3,"sources":["/Users/catherinekimyj/Desktop/profferly/frontend/src/components/posts/post_item.js"],"names":["React","Moment","CommentsList","LikesDislikes","PostItem","Component","constructor","props","handleClick","bind","handleButton","history","push","post","user","e","preventDefault","removePost","_id","go","render","users","dateStr","date","toString","file","text","username","currentUser","id","comments","fetchPostComments","composeComment","fetchComment","removeComment","isLoggedIn","fetchAllComments"],"mappings":"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","sourcesContent":["import React from 'react';\nimport Moment from \"react-moment\";\nimport './post.css';\nimport CommentsList from '../comments/comments_list';\nimport LikesDislikes from '../likesdislikes/likes_dislikes';\n\n\nclass PostItem extends React.Component {\n    constructor(props) {\n        super(props)\n        \n        this.handleClick = this.handleClick.bind(this);\n        this.handleButton = this.handleButton.bind(this);\n    }\n\n    handleClick() {\n        this.props.history.push(`/users/${this.props.post.user}` )\n    }\n    \n    handleButton(e) {\n        e.preventDefault();\n        this.props.removePost(this.props.post._id);\n        this.props.history.go();\n    }\n\n    render() {\n      // debugger\n             const post = this.props.post;\n             const user = this.props.users[this.props.post.user];\n\n            //  const date = post.date; \n            //  let options = { weekday: 'long', year: 'numeric', month: 'long', day: 'numeric' };\n            //  let localtime = post.date.toLocaleString(\"en-US\", options);\n             ////debugger\n             const dateStr = post.date.toString();\n             if (post && user) {\n                 return (\n                <li className=\"post-item-li\" >\n                    <div className=\"post-item\">\n                        <div><img className=\"post-item-image\" src= {post.file}/></div>\n                        <div className=\"post-item-text\">{post.text}</div>\n                        <div className=\"post-item-footer\">\n                            {/* <LikesDislikes postId={post._id} userId={user._id} currentUserId={this.props.currentUser.id}/> */}\n                            <div className=\"post-item-posted\">\n                                Posted by <span className=\"post-item-username\" onClick={this.handleClick}>{user.username}</span>\n                            </div>\n                            <Moment format=\"MMM DD, YYYY h:mmA\" className=\"post-date\" >{dateStr}</Moment>\n                            <br/>\n                            <LikesDislikes postId={post._id} userId={user._id} currentUserId={this.props.currentUser.id}/>\n                            {/* <div className=\"post-date\">{localtime}</div> */}\n                            {(this.props.currentUser.id === user._id) ? \n                                <button className=\"post-item-footer-button\" onClick={this.handleButton}>Delete</button> : <div></div>\n                            }\n                        </div>\n\n                        <CommentsList \n                            currentPost={this.props.post}\n                            comments={this.props.comments}\n                            fetchPostComments={this.props.fetchPostComments}\n\n                            composeComment={this.props.composeComment}\n                            fetchComment={this.props.fetchComment}\n                            removeComment={this.props.removeComment}\n                            isLoggedIn={this.props.isLoggedIn}\n                            currentUser={this.props.currentUser}\n                            fetchAllComments={this.props.fetchAllComments}\n                        />\n\n                    </div>\n                </li>\n            )\n        } else {\n            // ////debugger\n            return null;\n        }\n    }\n}\n\nexport default PostItem;"]},"metadata":{},"sourceType":"module"}