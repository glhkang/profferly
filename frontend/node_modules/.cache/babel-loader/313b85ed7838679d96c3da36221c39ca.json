{"ast":null,"code":"var _jsxFileName = \"/Users/catherinekimyj/Desktop/profferly/frontend/src/components/profile/profile.js\";\nimport React from 'react';\nimport PostItem from '../posts/post_item';\nimport PostCompose from '../posts/post_compose';\nimport './profile.css';\n\nclass Profile extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      posts: []\n    };\n    this.renderAsAnotherUser = this.renderAsAnotherUser.bind(this);\n    this.renderCurrentUser = this.renderCurrentUser.bind(this);\n  }\n\n  componentWillMount() {\n    //debugger\n    this.props.fetchUserPosts(this.props.user);\n    this.props.fetchUsers();\n    this.props.fetchPhotos();\n  }\n\n  componentWillReceiveProps(newState) {\n    ////debugger\n    this.setState({\n      posts: newState.posts\n    });\n  }\n\n  renderCurrentUser() {\n    ////debugger\n    const list = Object.values(this.props.posts[1]).map(post => {\n      return /*#__PURE__*/React.createElement(\"li\", {\n        className: \"profile-list-post\",\n        key: post._id,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 34,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(\"img\", {\n        className: \"profile-post-image\",\n        src: post.file,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 34,\n          columnNumber: 70\n        }\n      }), post.text, /*#__PURE__*/React.createElement(\"button\", {\n        onClick: () => {\n          return this.props.removePost(post._id).then(() => this.props.history.go());\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 35,\n          columnNumber: 21\n        }\n      }, \"Delete\"));\n    });\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"h2\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 17\n      }\n    }, \"Hello \", this.props.currentUser.email), /*#__PURE__*/React.createElement(PostCompose, {\n      currentUser: this.props.currentUser,\n      newPost: this.props.newPost,\n      composePost: this.props.composePost,\n      history: this.props.history,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(\"ul\", {\n      className: \"profile-list\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 17\n      }\n    }, list));\n  }\n\n  renderAsAnotherUser() {\n    if (this.props.users) {\n      const list = Object.values(this.props.posts[1]).map(post => {\n        ////debugger\n        return /*#__PURE__*/React.createElement(\"li\", {\n          className: \"profile-list-post\",\n          key: post._id,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 69,\n            columnNumber: 21\n          }\n        }, /*#__PURE__*/React.createElement(\"img\", {\n          className: \"profile-post-image\",\n          src: post.file,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 69,\n            columnNumber: 70\n          }\n        }), post.text);\n      });\n      return /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"h2\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 17\n        }\n      }, \"All of \", this.props.users[this.props.user].username, \"'s Posts\"), /*#__PURE__*/React.createElement(\"ul\", {\n        className: \"profile-list\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 17\n        }\n      }, list));\n    }\n  }\n\n  render() {\n    if (!this.state.user && this.state.posts.length === 0) {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: \"profile-main\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"profile-loading\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 17\n        }\n      }, \"Loading...\"));\n    } else {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: \"profile-main\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 92,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(\"button\", {\n        className: \"profile-button\",\n        onClick: () => this.props.history.push('/posts'),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 25\n        }\n      }, \"Go back\"), this.props.currentUser.id === this.props.user ? this.renderCurrentUser() : this.renderAsAnotherUser());\n    }\n  }\n\n}\n\nexport default Profile;","map":{"version":3,"sources":["/Users/catherinekimyj/Desktop/profferly/frontend/src/components/profile/profile.js"],"names":["React","PostItem","PostCompose","Profile","Component","constructor","props","state","posts","renderAsAnotherUser","bind","renderCurrentUser","componentWillMount","fetchUserPosts","user","fetchUsers","fetchPhotos","componentWillReceiveProps","newState","setState","list","Object","values","map","post","_id","file","text","removePost","then","history","go","currentUser","email","newPost","composePost","users","username","render","length","push","id"],"mappings":"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","sourcesContent":["import React from 'react';\nimport PostItem from '../posts/post_item';\nimport PostCompose from '../posts/post_compose';\nimport './profile.css';\n\nclass Profile extends React.Component {\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            posts: []\n        }\n\n        this.renderAsAnotherUser = this.renderAsAnotherUser.bind(this);\n        this.renderCurrentUser = this.renderCurrentUser.bind(this);\n    }\n\n    componentWillMount() {\n//debugger\n        this.props.fetchUserPosts(this.props.user);\n        this.props.fetchUsers();\n        this.props.fetchPhotos();\n    }\n\n    componentWillReceiveProps(newState) {\n////debugger\n        this.setState({ posts: newState.posts });\n    }\n\n    renderCurrentUser() {\n////debugger\n        const list = Object.values(this.props.posts[1]).map((post) => {\n            return (\n                    <li className=\"profile-list-post\" key={post._id}><img className=\"profile-post-image\" src= {post.file} />{post.text}\n                    <button onClick={() => {\n                        return(\n                        this.props.removePost(post._id)\n                        .then(() => this.props.history.go())                        \n                        )\n                    }\n                }\n                        \n                    >Delete</button>\n                    </li>\n            )\n        });\n\n        return (\n            <div>\n             \n                <h2>Hello {this.props.currentUser.email}</h2>\n                <PostCompose currentUser={this.props.currentUser} newPost={this.props.newPost} composePost={this.props.composePost} history={this.props.history} />\n                <ul className=\"profile-list\">\n                    {list}\n                </ul>\n            </div>\n        )\n        \n        \n    }\n\n\n\n    renderAsAnotherUser() {\n        if (this.props.users) {\n        const list = Object.values(this.props.posts[1]).map((post) => {\n////debugger\n        return(\n                    <li className=\"profile-list-post\" key={post._id}><img className=\"profile-post-image\" src= {post.file} />{post.text}</li>  \n            )\n        });\n\n        return (\n            <div>\n                <h2>All of {this.props.users[this.props.user].username}'s Posts</h2>\n                <ul className=\"profile-list\">\n                    {list}\n                </ul>\n            </div>\n        )\n    }\n}\n\n    render() {\n        if (!this.state.user && (this.state.posts.length === 0)) {\n            return (<div className=\"profile-main\">\n                <div className=\"profile-loading\">Loading...</div>\n                </div>\n            )\n        } else {\n            return (\n                <div className=\"profile-main\">\n                    {/* <div className=\"profile-main-body\"> */}\n                        <button className=\"profile-button\" onClick={() => this.props.history.push('/posts')}>Go back</button>\n                        {this.props.currentUser.id === this.props.user ? \n                        this.renderCurrentUser() : this.renderAsAnotherUser()}\n                    {/* </div> */}\n                </div>\n            )\n        }\n    }\n}\n\nexport default Profile;"]},"metadata":{},"sourceType":"module"}