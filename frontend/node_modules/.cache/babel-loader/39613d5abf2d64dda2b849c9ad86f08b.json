{"ast":null,"code":"var _jsxFileName = \"/Users/catherinekimyj/Desktop/profferly/frontend/src/components/NewPhotoUpload.js\";\nimport React, { Component } from \"react\";\nimport axios from \"axios\";\nconst endpoint = \"http://localhost:3000/api/photos/upload\"; //comment in for heroku\n// const endpoint = \"http://profferly.herokuapp.com/#/photos/upload\";\n\nclass NewPhotoUpload extends Component {\n  constructor(props) {\n    super(props);\n\n    this.handleSelectedFile = e => {\n      e.preventDefault();\n      this.setState({\n        selectedFile: e.target.files[0]\n      });\n    };\n\n    this.onChange = e => {\n      this.setState({\n        [e.target.name]: e.target.value\n      });\n    };\n\n    this.handleUpload = event => {\n      event.preventDefault();\n      const data = new FormData(event.target);\n      data.append(\"file\", this.state.selectedFile);\n      axios.post(endpoint, data).then(() => {\n        this.props.history.push(\"/\");\n      }).catch(error => {\n        alert(\"Error, please try again\");\n      });\n    };\n\n    this.state = {\n      selectedFile: null\n    };\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 7\n      }\n    }, \"Upload a photo!\", /*#__PURE__*/React.createElement(\"form\", {\n      onSubmit: this.handleUpload,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      type: \"file\",\n      name: \"\",\n      id: \"\",\n      onChange: this.handleSelectedFile,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 21\n      }\n    })), /*#__PURE__*/React.createElement(\"button\", {\n      type: \"submit\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 21\n      }\n    }, \"Upload\")));\n  }\n\n}\n\nexport default NewPhotoUpload;","map":{"version":3,"sources":["/Users/catherinekimyj/Desktop/profferly/frontend/src/components/NewPhotoUpload.js"],"names":["React","Component","axios","endpoint","NewPhotoUpload","constructor","props","handleSelectedFile","e","preventDefault","setState","selectedFile","target","files","onChange","name","value","handleUpload","event","data","FormData","append","state","post","then","history","push","catch","error","alert","render"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,KAAP,MAAkB,OAAlB;AAGA,MAAMC,QAAQ,GAAG,yCAAjB,C,CACA;AACA;;AAEA,MAAMC,cAAN,SAA6BH,SAA7B,CAAuC;AACrCI,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACjB,UAAMA,KAAN;;AADiB,SAOnBC,kBAPmB,GAOEC,CAAC,IAAI;AACxBA,MAAAA,CAAC,CAACC,cAAF;AACA,WAAKC,QAAL,CAAc;AACZC,QAAAA,YAAY,EAAEH,CAAC,CAACI,MAAF,CAASC,KAAT,CAAe,CAAf;AADF,OAAd;AAGD,KAZkB;;AAAA,SAcnBC,QAdmB,GAcRN,CAAC,IAAI;AACd,WAAKE,QAAL,CAAc;AAAE,SAACF,CAAC,CAACI,MAAF,CAASG,IAAV,GAAiBP,CAAC,CAACI,MAAF,CAASI;AAA5B,OAAd;AACD,KAhBkB;;AAAA,SAkBnBC,YAlBmB,GAkBJC,KAAK,IAAI;AACtBA,MAAAA,KAAK,CAACT,cAAN;AACA,YAAMU,IAAI,GAAG,IAAIC,QAAJ,CAAaF,KAAK,CAACN,MAAnB,CAAb;AACAO,MAAAA,IAAI,CAACE,MAAL,CAAY,MAAZ,EAAoB,KAAKC,KAAL,CAAWX,YAA/B;AAEAT,MAAAA,KAAK,CACFqB,IADH,CACQpB,QADR,EACkBgB,IADlB,EAEGK,IAFH,CAEQ,MAAM;AACV,aAAKlB,KAAL,CAAWmB,OAAX,CAAmBC,IAAnB,CAAwB,GAAxB;AACD,OAJH,EAKGC,KALH,CAKSC,KAAK,IAAI;AACdC,QAAAA,KAAK,CAAC,yBAAD,CAAL;AACD,OAPH;AAQD,KA/BkB;;AAEjB,SAAKP,KAAL,GAAa;AACXX,MAAAA,YAAY,EAAE;AADH,KAAb;AAGD;;AA4BDmB,EAAAA,MAAM,GAAG;AAEP,wBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uCAGM;AAAM,MAAA,QAAQ,EAAE,KAAKb,YAArB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAGI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI;AACI,MAAA,IAAI,EAAC,MADT;AAEI,MAAA,IAAI,EAAC,EAFT;AAGI,MAAA,EAAE,EAAC,EAHP;AAII,MAAA,QAAQ,EAAE,KAAKV,kBAJnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADJ,CAHJ,eAWQ;AAAQ,MAAA,IAAI,EAAC,QAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAXR,CAHN,CADF;AAsBD;;AA1DoC;;AA6DvC,eAAeH,cAAf","sourcesContent":["import React, { Component } from \"react\";\nimport axios from \"axios\";\n\n\nconst endpoint = \"http://localhost:3000/api/photos/upload\";\n//comment in for heroku\n// const endpoint = \"http://profferly.herokuapp.com/#/photos/upload\";\n\nclass NewPhotoUpload extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      selectedFile: null\n    };\n  }\n\n  handleSelectedFile = e => {\n    e.preventDefault();\n    this.setState({\n      selectedFile: e.target.files[0]\n    });\n  };\n\n  onChange = e => {\n    this.setState({ [e.target.name]: e.target.value });\n  };\n\n  handleUpload = event => {\n    event.preventDefault();\n    const data = new FormData(event.target);\n    data.append(\"file\", this.state.selectedFile);\n\n    axios\n      .post(endpoint, data)\n      .then(() => {\n        this.props.history.push(\"/\");\n      })\n      .catch(error => {\n        alert(\"Error, please try again\");\n      });\n  };\n\n  render() {\n\n    return (\n      <div>\n\n            Upload a photo!\n            <form onSubmit={this.handleUpload}>\n\n\n                <div>\n                    <input\n                        type=\"file\"\n                        name=\"\"\n                        id=\"\"\n                        onChange={this.handleSelectedFile}\n                    />\n                </div>\n                    <button type=\"submit\" >\n                        Upload\n                    </button>\n            </form>\n\n      </div>\n    );\n  }\n}\n\nexport default NewPhotoUpload;\n"]},"metadata":{},"sourceType":"module"}