{"ast":null,"code":"import _defineProperty from\"/Users/catherinekimyj/Desktop/profferly/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _classCallCheck from\"/Users/catherinekimyj/Desktop/profferly/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/catherinekimyj/Desktop/profferly/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _assertThisInitialized from\"/Users/catherinekimyj/Desktop/profferly/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"/Users/catherinekimyj/Desktop/profferly/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/catherinekimyj/Desktop/profferly/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React from\"react\";var PostCompose=/*#__PURE__*/function(_React$Component){_inherits(PostCompose,_React$Component);var _super=_createSuper(PostCompose);function PostCompose(props){var _this;_classCallCheck(this,PostCompose);_this=_super.call(this,props);_this.handleSelectedFile=function(e){e.preventDefault();_this.setState({file:e.target.files[0]});};_this.onChange=function(e){_this.setState(_defineProperty({},e.target.name,e.target.value));};_this.state={text:\"\",file:null,newPost:\"\"};_this.handleSubmit=_this.handleSubmit.bind(_assertThisInitialized(_this));return _this;}_createClass(PostCompose,[{key:\"handleSubmit\",value:function handleSubmit(e){e.preventDefault();var data=new FormData();if(this.state.file===null){data.append(\"text\",this.state.text);this.props.composePost(data);}else{data.append(\"file\",this.state.file);data.append(\"text\",this.state.text);this.props.composePost(data);}setTimeout(function(){window.location.reload();},500);}},{key:\"update\",value:function update(){var _this2=this;return function(e){return _this2.setState({text:e.currentTarget.value});};}},{key:\"render\",value:function render(){return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"form\",{onSubmit:this.handleSubmit},/*#__PURE__*/React.createElement(\"div\",{className:\"post-compose\"},/*#__PURE__*/React.createElement(\"textarea\",{className:\"post-textarea\",value:this.state.text,onChange:this.update(),placeholder:\"What's up?\"}),/*#__PURE__*/React.createElement(\"input\",{className:\"post-button\",type:\"submit\",value:\"Submit\"})),/*#__PURE__*/React.createElement(\"input\",{type:\"file\",className:\"custom-file-input\",name:\"file\",id:\"file\",htmlFor:\"file\",accept:\"image/*\",onChange:this.handleSelectedFile})),/*#__PURE__*/React.createElement(\"br\",null));}}]);return PostCompose;}(React.Component);export default PostCompose;","map":{"version":3,"sources":["/Users/catherinekimyj/Desktop/profferly/frontend/src/components/posts/post_compose.js"],"names":["React","PostCompose","props","handleSelectedFile","e","preventDefault","setState","file","target","files","onChange","name","value","state","text","newPost","handleSubmit","bind","data","FormData","append","composePost","setTimeout","window","location","reload","currentTarget","update","Component"],"mappings":"4+BAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,C,GAEMC,CAAAA,W,sHACJ,qBAAYC,KAAZ,CAAmB,6CACjB,uBAAMA,KAAN,EADiB,MAUnBC,kBAVmB,CAUE,SAACC,CAAD,CAAO,CAC1BA,CAAC,CAACC,cAAF,GACA,MAAKC,QAAL,CAAc,CACZC,IAAI,CAAEH,CAAC,CAACI,MAAF,CAASC,KAAT,CAAe,CAAf,CADM,CAAd,EAGD,CAfkB,OAmCnBC,QAnCmB,CAmCR,SAACN,CAAD,CAAO,CAChB,MAAKE,QAAL,oBAAiBF,CAAC,CAACI,MAAF,CAASG,IAA1B,CAAiCP,CAAC,CAACI,MAAF,CAASI,KAA1C,GACD,CArCkB,CAEjB,MAAKC,KAAL,CAAa,CACXC,IAAI,CAAE,EADK,CAEXP,IAAI,CAAE,IAFK,CAGXQ,OAAO,CAAE,EAHE,CAAb,CAKA,MAAKC,YAAL,CAAoB,MAAKA,YAAL,CAAkBC,IAAlB,+BAApB,CAPiB,aAQlB,C,0EASYb,C,CAAG,CACdA,CAAC,CAACC,cAAF,GACA,GAAMa,CAAAA,IAAI,CAAG,GAAIC,CAAAA,QAAJ,EAAb,CAEA,GAAI,KAAKN,KAAL,CAAWN,IAAX,GAAoB,IAAxB,CAA8B,CAC5BW,IAAI,CAACE,MAAL,CAAY,MAAZ,CAAoB,KAAKP,KAAL,CAAWC,IAA/B,EACA,KAAKZ,KAAL,CAAWmB,WAAX,CAAuBH,IAAvB,EACD,CAHD,IAGO,CACLA,IAAI,CAACE,MAAL,CAAY,MAAZ,CAAoB,KAAKP,KAAL,CAAWN,IAA/B,EACAW,IAAI,CAACE,MAAL,CAAY,MAAZ,CAAoB,KAAKP,KAAL,CAAWC,IAA/B,EACA,KAAKZ,KAAL,CAAWmB,WAAX,CAAuBH,IAAvB,EACD,CAEDI,UAAU,CAAC,UAAY,CACrBC,MAAM,CAACC,QAAP,CAAgBC,MAAhB,GACD,CAFS,CAEP,GAFO,CAAV,CAGD,C,uCAMQ,iBACP,MAAO,UAACrB,CAAD,QACL,CAAA,MAAI,CAACE,QAAL,CAAc,CACZQ,IAAI,CAAEV,CAAC,CAACsB,aAAF,CAAgBd,KADV,CAAd,CADK,EAAP,CAID,C,uCAEQ,CACP,mBACE,4CACE,4BAAM,QAAQ,CAAE,KAAKI,YAArB,eACE,2BAAK,SAAS,CAAC,cAAf,eACE,gCACE,SAAS,CAAC,eADZ,CAEE,KAAK,CAAE,KAAKH,KAAL,CAAWC,IAFpB,CAGE,QAAQ,CAAE,KAAKa,MAAL,EAHZ,CAIE,WAAW,CAAC,YAJd,EADF,cAOE,6BAAO,SAAS,CAAC,aAAjB,CAA+B,IAAI,CAAC,QAApC,CAA6C,KAAK,CAAC,QAAnD,EAPF,CADF,cAWE,6BACE,IAAI,CAAC,MADP,CAEE,SAAS,CAAC,mBAFZ,CAGE,IAAI,CAAC,MAHP,CAIE,EAAE,CAAC,MAJL,CAKE,OAAO,CAAC,MALV,CAME,MAAM,CAAC,SANT,CAOE,QAAQ,CAAE,KAAKxB,kBAPjB,EAXF,CADF,cAsBE,8BAtBF,CADF,CA0BD,C,yBA1EuBH,KAAK,CAAC4B,S,EA6EhC,cAAe3B,CAAAA,WAAf","sourcesContent":["import React from \"react\";\n\nclass PostCompose extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      text: \"\",\n      file: null,\n      newPost: \"\",\n    };\n    this.handleSubmit = this.handleSubmit.bind(this);\n  }\n\n  handleSelectedFile = (e) => {\n    e.preventDefault();\n    this.setState({\n      file: e.target.files[0],\n    });\n  };\n\n  handleSubmit(e) {\n    e.preventDefault();\n    const data = new FormData();\n\n    if (this.state.file === null) {\n      data.append(\"text\", this.state.text);\n      this.props.composePost(data);\n    } else {\n      data.append(\"file\", this.state.file);\n      data.append(\"text\", this.state.text);\n      this.props.composePost(data);\n    }\n\n    setTimeout(function () {\n      window.location.reload();\n    }, 500);\n  }\n\n  onChange = (e) => {\n    this.setState({ [e.target.name]: e.target.value });\n  };\n\n  update() {\n    return (e) =>\n      this.setState({\n        text: e.currentTarget.value,\n      });\n  }\n\n  render() {\n    return (\n      <div>\n        <form onSubmit={this.handleSubmit}>\n          <div className=\"post-compose\">\n            <textarea\n              className=\"post-textarea\"\n              value={this.state.text}\n              onChange={this.update()}\n              placeholder=\"What's up?\"\n            />\n            <input className=\"post-button\" type=\"submit\" value=\"Submit\" />\n          </div>\n\n          <input\n            type=\"file\"\n            className=\"custom-file-input\"\n            name=\"file\"\n            id=\"file\"\n            htmlFor=\"file\"\n            accept=\"image/*\"\n            onChange={this.handleSelectedFile}\n          />\n        </form>\n        <br />\n      </div>\n    );\n  }\n}\n\nexport default PostCompose;\n"]},"metadata":{},"sourceType":"module"}