{"ast":null,"code":"var _jsxFileName = \"/Users/catherinekimyj/Desktop/profferly/frontend/src/components/profile/profile.js\";\nimport React from \"react\";\nimport PostItem from \"../posts/post_item\";\nimport PostCompose from \"../posts/post_compose\";\nimport \"./profile.css\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faArrowCircleLeft } from \"@fortawesome/free-solid-svg-icons\";\nimport { faSpinner } from \"@fortawesome/free-solid-svg-icons\";\nimport Join from \"../chat/join\";\n\nclass Profile extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      posts: []\n    };\n    this.renderAsAnotherUser = this.renderAsAnotherUser.bind(this);\n    this.renderCurrentUser = this.renderCurrentUser.bind(this);\n  }\n\n  componentWillMount() {\n    this.props.fetchUserPosts(this.props.user);\n    this.props.fetchUsers();\n    this.props.fetchPhotos();\n  }\n\n  componentWillReceiveProps(newState) {\n    this.setState({\n      posts: newState.posts\n    });\n  }\n\n  capitalize(string) {\n    let firstChar = string[0].toUpperCase();\n    let rest = string.slice(1);\n    return firstChar + rest;\n  }\n\n  renderCurrentUser() {\n    const list = Object.values(this.props.posts[1]).map((post, idx) => /*#__PURE__*/React.createElement(PostItem, {\n      key: idx,\n      post: post,\n      users: this.props.users,\n      fetchPosts: this.props.fetchPosts,\n      fetchUsers: this.props.fetchUsers,\n      history: this.props.history,\n      currentUser: this.props.currentUser,\n      removePost: this.props.removePost,\n      fetchPostComments: this.props.fetchPostComments,\n      composeComment: this.props.composeComment,\n      fetchComment: this.props.fetchComment,\n      removeComment: this.props.removeComment,\n      comments: this.props.comments,\n      fetchAllComments: this.props.fetchAllComments,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 7\n      }\n    }));\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"current-user-main\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"user-profile\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"user-profile-box\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(\"h2\", {\n      className: \"user-profile-header\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 11\n      }\n    }, \"Hello, \", this.capitalize(this.props.currentUser.username)), /*#__PURE__*/React.createElement(PostCompose, {\n      currentUser: this.props.currentUser,\n      newPost: this.props.newPost,\n      composePost: this.props.composePost,\n      history: this.props.history,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(\"ul\", {\n      className: \"profile-list\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 11\n      }\n    }, list)), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"current-user-join\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(Join, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 11\n      }\n    })));\n  }\n\n  renderAsAnotherUser() {\n    if (this.props.users) {\n      const list = Object.values(this.props.posts[1]).map((post, idx) => /*#__PURE__*/React.createElement(PostItem, {\n        key: idx,\n        post: post,\n        users: this.props.users,\n        fetchPosts: this.props.fetchPosts,\n        fetchUsers: this.props.fetchUsers,\n        history: this.props.history,\n        currentUser: this.props.currentUser,\n        removePost: this.props.removePost,\n        fetchPostComments: this.props.fetchPostComments,\n        composeComment: this.props.composeComment,\n        fetchComment: this.props.fetchComment,\n        removeComment: this.props.removeComment,\n        comments: this.props.comments,\n        fetchAllComments: this.props.fetchAllComments,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 9\n        }\n      }));\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: \"user-profile-content\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 104,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(\"h2\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 105,\n          columnNumber: 11\n        }\n      }, \"All of\", \" \", /*#__PURE__*/React.createElement(\"span\", {\n        className: \"user-profile-username\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 107,\n          columnNumber: 13\n        }\n      }, this.props.users[this.props.user].username ? this.props.users[this.props.user].username : null), \"'s Posts\"), /*#__PURE__*/React.createElement(\"ul\", {\n        className: \"posts\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 112,\n          columnNumber: 11\n        }\n      }, list));\n    }\n  }\n\n  render() {\n    if (!this.state.user && this.state.posts.length === 0) {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: \"profile-main\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 121,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"profile-loading\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 122,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(FontAwesomeIcon, {\n        className: \"loading-icon\",\n        icon: faSpinner,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 123,\n          columnNumber: 13\n        }\n      })));\n    } else {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: \"profile-main\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 129,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(\"button\", {\n        className: \"profile-button\",\n        onClick: () => this.props.history.push(\"/posts\"),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 130,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(FontAwesomeIcon, {\n        className: \"font-awesome-back\",\n        icon: faArrowCircleLeft,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 134,\n          columnNumber: 13\n        }\n      })), this.props.currentUser.id === this.props.user ? this.renderCurrentUser() : this.renderAsAnotherUser());\n    }\n  }\n\n}\n\nexport default Profile;","map":{"version":3,"sources":["/Users/catherinekimyj/Desktop/profferly/frontend/src/components/profile/profile.js"],"names":["React","PostItem","PostCompose","FontAwesomeIcon","faArrowCircleLeft","faSpinner","Join","Profile","Component","constructor","props","state","posts","renderAsAnotherUser","bind","renderCurrentUser","componentWillMount","fetchUserPosts","user","fetchUsers","fetchPhotos","componentWillReceiveProps","newState","setState","capitalize","string","firstChar","toUpperCase","rest","slice","list","Object","values","map","post","idx","users","fetchPosts","history","currentUser","removePost","fetchPostComments","composeComment","fetchComment","removeComment","comments","fetchAllComments","username","newPost","composePost","render","length","push","id"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport PostItem from \"../posts/post_item\";\nimport PostCompose from \"../posts/post_compose\";\nimport \"./profile.css\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faArrowCircleLeft } from \"@fortawesome/free-solid-svg-icons\";\nimport { faSpinner } from \"@fortawesome/free-solid-svg-icons\";\n\nimport Join from \"../chat/join\";\n\nclass Profile extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      posts: [],\n    };\n\n    this.renderAsAnotherUser = this.renderAsAnotherUser.bind(this);\n    this.renderCurrentUser = this.renderCurrentUser.bind(this);\n  }\n\n  componentWillMount() {\n    this.props.fetchUserPosts(this.props.user);\n    this.props.fetchUsers();\n    this.props.fetchPhotos();\n  }\n\n  componentWillReceiveProps(newState) {\n    this.setState({ posts: newState.posts });\n  }\n\n  capitalize(string) {\n    let firstChar = string[0].toUpperCase();\n    let rest = string.slice(1);\n\n    return firstChar + rest;\n  }\n\n  renderCurrentUser() {\n    const list = Object.values(this.props.posts[1]).map((post, idx) => (\n      <PostItem\n        key={idx}\n        post={post}\n        users={this.props.users}\n        fetchPosts={this.props.fetchPosts}\n        fetchUsers={this.props.fetchUsers}\n        history={this.props.history}\n        currentUser={this.props.currentUser}\n        removePost={this.props.removePost}\n        fetchPostComments={this.props.fetchPostComments}\n        composeComment={this.props.composeComment}\n        fetchComment={this.props.fetchComment}\n        removeComment={this.props.removeComment}\n        comments={this.props.comments}\n        fetchAllComments={this.props.fetchAllComments}\n      />\n    ));\n\n    return (\n      <div className=\"current-user-main\">\n        <div className=\"user-profile\">\n          <div className=\"user-profile-box\" />\n          <h2 className=\"user-profile-header\">\n            Hello, {this.capitalize(this.props.currentUser.username)}\n          </h2>\n          <PostCompose\n            currentUser={this.props.currentUser}\n            newPost={this.props.newPost}\n            composePost={this.props.composePost}\n            history={this.props.history}\n          />\n          <ul className=\"profile-list\">{list}</ul>\n        </div>\n        <div className=\"current-user-join\">\n          <Join />\n        </div>\n      </div>\n    );\n  }\n\n  renderAsAnotherUser() {\n    if (this.props.users) {\n      const list = Object.values(this.props.posts[1]).map((post, idx) => (\n        <PostItem\n          key={idx}\n          post={post}\n          users={this.props.users}\n          fetchPosts={this.props.fetchPosts}\n          fetchUsers={this.props.fetchUsers}\n          history={this.props.history}\n          currentUser={this.props.currentUser}\n          removePost={this.props.removePost}\n          fetchPostComments={this.props.fetchPostComments}\n          composeComment={this.props.composeComment}\n          fetchComment={this.props.fetchComment}\n          removeComment={this.props.removeComment}\n          comments={this.props.comments}\n          fetchAllComments={this.props.fetchAllComments}\n        />\n      ));\n\n      return (\n        <div className=\"user-profile-content\">\n          <h2>\n            All of{\" \"}\n            <span className=\"user-profile-username\">\n              {this.props.users[this.props.user].username ? this.props.users[this.props.user].username : null}\n            </span>\n            's Posts\n          </h2>\n          <ul className=\"posts\">{list}</ul>\n        </div>\n      );\n    }\n  }\n\n  render() {\n    if (!this.state.user && this.state.posts.length === 0) {\n      return (\n        <div className=\"profile-main\">\n          <div className=\"profile-loading\">\n            <FontAwesomeIcon className=\"loading-icon\" icon={faSpinner} />\n          </div>\n        </div>\n      );\n    } else {\n      return (\n        <div className=\"profile-main\">\n          <button\n            className=\"profile-button\"\n            onClick={() => this.props.history.push(\"/posts\")}\n          >\n            <FontAwesomeIcon\n              className=\"font-awesome-back\"\n              icon={faArrowCircleLeft}\n            />\n          </button>\n          {this.props.currentUser.id === this.props.user\n            ? this.renderCurrentUser()\n            : this.renderAsAnotherUser()}\n        </div>\n      );\n    }\n  }\n}\n\nexport default Profile;\n"]},"metadata":{},"sourceType":"module"}