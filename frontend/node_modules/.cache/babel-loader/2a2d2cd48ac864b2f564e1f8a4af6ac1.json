{"ast":null,"code":"import _toConsumableArray from\"/Users/catherinekimyj/Desktop/profferly/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import{BEGIN_RECEIVE_ROOMS_MESSAGES,FAIL_RECEIVE_ROOMS_MESSAGES,RECEIVE_ROOMS_MESSAGES,NEW_LOCAL_MESSAGE}from\"../actions/message_action\";var MessagesReducer=function MessagesReducer(){var state=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{loadin:true,messages:[]};var action=arguments.length>1?arguments[1]:undefined;Object.freeze(state);var newState=Object.assign({},state);switch(action.type){case BEGIN_RECEIVE_ROOMS_MESSAGES:newState.loading=true;newState.messages=[];return newState;case FAIL_RECEIVE_ROOMS_MESSAGES:newState.loading=false;return newState;case RECEIVE_ROOMS_MESSAGES:newState.loading=false;newState.messages=action.messages.data.sort(dateSort);return newState;case NEW_LOCAL_MESSAGE:newState.messages=[].concat(_toConsumableArray(state.messages),[action.message]).sort(dateSort);return newState;default:return state;}};function dateSort(value1,value2){var date1=Date.parse(value1);var date2=Date.parse(value2);return date1-date2;}export default MessagesReducer;","map":{"version":3,"sources":["/Users/catherinekimyj/Desktop/profferly/frontend/src/reducers/messages_reducer.js"],"names":["BEGIN_RECEIVE_ROOMS_MESSAGES","FAIL_RECEIVE_ROOMS_MESSAGES","RECEIVE_ROOMS_MESSAGES","NEW_LOCAL_MESSAGE","MessagesReducer","state","loadin","messages","action","Object","freeze","newState","assign","type","loading","data","sort","dateSort","message","value1","value2","date1","Date","parse","date2"],"mappings":"+KAAA,OACEA,4BADF,CAEEC,2BAFF,CAGEC,sBAHF,CAIEC,iBAJF,KAKO,2BALP,CAOA,GAAMC,CAAAA,eAAe,CAAG,QAAlBA,CAAAA,eAAkB,EAAoD,IAAnDC,CAAAA,KAAmD,2DAA3C,CAAEC,MAAM,CAAE,IAAV,CAAgBC,QAAQ,CAAE,EAA1B,CAA2C,IAAXC,CAAAA,MAAW,2CAC1EC,MAAM,CAACC,MAAP,CAAcL,KAAd,EAEA,GAAIM,CAAAA,QAAQ,CAAGF,MAAM,CAACG,MAAP,CAAc,EAAd,CAAkBP,KAAlB,CAAf,CAEA,OAAQG,MAAM,CAACK,IAAf,EACE,IAAKb,CAAAA,4BAAL,CACEW,QAAQ,CAACG,OAAT,CAAmB,IAAnB,CACAH,QAAQ,CAACJ,QAAT,CAAoB,EAApB,CACA,MAAOI,CAAAA,QAAP,CAEF,IAAKV,CAAAA,2BAAL,CACEU,QAAQ,CAACG,OAAT,CAAmB,KAAnB,CACA,MAAOH,CAAAA,QAAP,CAEF,IAAKT,CAAAA,sBAAL,CACES,QAAQ,CAACG,OAAT,CAAmB,KAAnB,CACAH,QAAQ,CAACJ,QAAT,CAAoBC,MAAM,CAACD,QAAP,CAAgBQ,IAAhB,CAAqBC,IAArB,CAA0BC,QAA1B,CAApB,CAEA,MAAON,CAAAA,QAAP,CAEF,IAAKR,CAAAA,iBAAL,CACEQ,QAAQ,CAACJ,QAAT,CAAoB,6BAAIF,KAAK,CAACE,QAAV,GAAoBC,MAAM,CAACU,OAA3B,GAAoCF,IAApC,CAAyCC,QAAzC,CAApB,CAEA,MAAON,CAAAA,QAAP,CACF,QACE,MAAON,CAAAA,KAAP,CArBJ,CAuBD,CA5BD,CA8BA,QAASY,CAAAA,QAAT,CAAkBE,MAAlB,CAA0BC,MAA1B,CAAkC,CAEhC,GAAMC,CAAAA,KAAK,CAAGC,IAAI,CAACC,KAAL,CAAWJ,MAAX,CAAd,CACA,GAAMK,CAAAA,KAAK,CAAGF,IAAI,CAACC,KAAL,CAAWH,MAAX,CAAd,CAEA,MAAOC,CAAAA,KAAK,CAAGG,KAAf,CAED,CAED,cAAepB,CAAAA,eAAf","sourcesContent":["import {\n  BEGIN_RECEIVE_ROOMS_MESSAGES,\n  FAIL_RECEIVE_ROOMS_MESSAGES,\n  RECEIVE_ROOMS_MESSAGES,\n  NEW_LOCAL_MESSAGE,\n} from \"../actions/message_action\";\n\nconst MessagesReducer = (state = { loadin: true, messages: [] }, action) => {\n  Object.freeze(state);\n\n  let newState = Object.assign({}, state);\n\n  switch (action.type) {\n    case BEGIN_RECEIVE_ROOMS_MESSAGES:\n      newState.loading = true;\n      newState.messages = [];\n      return newState;\n\n    case FAIL_RECEIVE_ROOMS_MESSAGES:\n      newState.loading = false;\n      return newState;\n\n    case RECEIVE_ROOMS_MESSAGES:\n      newState.loading = false;\n      newState.messages = action.messages.data.sort(dateSort);\n\n      return newState;\n\n    case NEW_LOCAL_MESSAGE:\n      newState.messages = [...state.messages, action.message].sort(dateSort);\n\n      return newState;\n    default:\n      return state;\n  }\n};\n\nfunction dateSort(value1, value2) {\n\n  const date1 = Date.parse(value1);\n  const date2 = Date.parse(value2);\n\n  return date1 - date2;\n\n}\n\nexport default MessagesReducer;\n"]},"metadata":{},"sourceType":"module"}