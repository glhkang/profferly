{"ast":null,"code":"var _jsxFileName = \"/Users/catherinekimyj/Desktop/profferly/frontend/src/components/profile/profile.js\";\nimport React from 'react';\nimport PostItem from '../posts/post_item';\nimport PostCompose from '../posts/post_compose';\nimport './profile.css';\n\nclass Profile extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      posts: []\n    };\n    this.renderAsAnotherUser = this.renderAsAnotherUser.bind(this);\n    this.renderCurrentUser = this.renderCurrentUser.bind(this);\n  }\n\n  componentWillMount() {\n    //debugger\n    this.props.fetchUserPosts(this.props.user);\n    this.props.fetchUsers();\n    this.props.fetchPhotos();\n  }\n\n  componentWillReceiveProps(newState) {\n    //debugger\n    this.setState({\n      posts: newState.posts\n    });\n  }\n\n  renderCurrentUser() {\n    //debugger\n    const list = Object.values(this.props.posts[1]).map(post => {\n      return /*#__PURE__*/React.createElement(\"li\", {\n        key: post._id,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 34,\n          columnNumber: 21\n        }\n      }, post.text, /*#__PURE__*/React.createElement(\"button\", {\n        onClick: () => {\n          return this.props.removePost(post._id).then(() => this.props.history.go());\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 35,\n          columnNumber: 21\n        }\n      }, \"Delete\"));\n    });\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"h2\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 17\n      }\n    }, \"Hello \", this.props.currentUser.username), /*#__PURE__*/React.createElement(PostCompose, {\n      currentUser: this.props.currentUser,\n      newPost: this.props.newPost,\n      composePost: this.props.composePost,\n      history: this.props.history,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(\"ul\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 17\n      }\n    }, list));\n  }\n\n  renderAsAnotherUser() {\n    if (this.props.users) {\n      const list = Object.values(this.props.posts[1]).map(post => {\n        //debugger\n        return /*#__PURE__*/React.createElement(\"li\", {\n          key: post._id,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 69,\n            columnNumber: 21\n          }\n        }, post.text);\n      });\n      return /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"h2\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 17\n        }\n      }, \"All of \", this.props.users[this.props.user].username, \"'s Posts\"), /*#__PURE__*/React.createElement(\"ul\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 17\n        }\n      }, list));\n    }\n  }\n\n  render() {\n    if (this.state.posts.length === 0) {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 21\n        }\n      }, \"Loading..\");\n    } else {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(\"button\", {\n        onClick: () => this.props.history.push('/posts'),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 21\n        }\n      }, \"Go back\"), this.props.currentUser.id === this.props.user ? this.renderCurrentUser() : this.renderAsAnotherUser());\n    }\n  }\n\n}\n\nexport default Profile;","map":{"version":3,"sources":["/Users/catherinekimyj/Desktop/profferly/frontend/src/components/profile/profile.js"],"names":["React","PostItem","PostCompose","Profile","Component","constructor","props","state","posts","renderAsAnotherUser","bind","renderCurrentUser","componentWillMount","fetchUserPosts","user","fetchUsers","fetchPhotos","componentWillReceiveProps","newState","setState","list","Object","values","map","post","_id","text","removePost","then","history","go","currentUser","username","newPost","composePost","users","render","length","push","id"],"mappings":"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","sourcesContent":["import React from 'react';\nimport PostItem from '../posts/post_item';\nimport PostCompose from '../posts/post_compose';\nimport './profile.css';\n\nclass Profile extends React.Component {\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            posts: []\n        }\n\n        this.renderAsAnotherUser = this.renderAsAnotherUser.bind(this);\n        this.renderCurrentUser = this.renderCurrentUser.bind(this);\n    }\n\n    componentWillMount() {\n//debugger\n        this.props.fetchUserPosts(this.props.user);\n        this.props.fetchUsers();\n        this.props.fetchPhotos();\n    }\n\n    componentWillReceiveProps(newState) {\n//debugger\n        this.setState({ posts: newState.posts });\n    }\n\n    renderCurrentUser() {\n//debugger\n        const list = Object.values(this.props.posts[1]).map((post) => {\n            return (\n                    <li key={post._id}>{post.text}\n                    <button onClick={() => {\n                        return(\n                        this.props.removePost(post._id)\n                        .then(() => this.props.history.go())                        \n                        )\n                    }\n                }\n                        \n                    >Delete</button>\n                    </li>\n            )\n        });\n\n        return (\n            <div>\n             \n                <h2>Hello {this.props.currentUser.username}</h2>\n                <PostCompose currentUser={this.props.currentUser} newPost={this.props.newPost} composePost={this.props.composePost} history={this.props.history} />\n                <ul>\n                    {list}\n                </ul>\n            </div>\n        )\n        \n        \n    }\n\n\n\n    renderAsAnotherUser() {\n        if (this.props.users) {\n        const list = Object.values(this.props.posts[1]).map((post) => {\n//debugger\n        return(\n                    <li key={post._id}>{post.text}</li>  \n            )\n        });\n\n        return (\n            <div>\n                <h2>All of {this.props.users[this.props.user].username}'s Posts</h2>\n                <ul>\n                    {list}\n                </ul>\n            </div>\n        )\n    }\n}\n\n    render() {\n        if (this.state.posts.length === 0) {\n            return (<div>Loading..</div>)\n        } else {\n            return (\n                <div>\n                    <button onClick={() => this.props.history.push('/posts')}>Go back</button>\n                    {this.props.currentUser.id === this.props.user ? \n                    this.renderCurrentUser() : this.renderAsAnotherUser()}\n                </div>\n            )\n        }\n    }\n}\n\nexport default Profile;"]},"metadata":{},"sourceType":"module"}